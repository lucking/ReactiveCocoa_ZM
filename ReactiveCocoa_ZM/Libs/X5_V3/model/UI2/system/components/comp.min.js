/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 1.0.2
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */

/*!
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */

/*!
 * Bootstrap v3.1.1 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/*! 
* X5 v3 (htttp://www.justep.com) 
* Copyright 2014 Justep, Inc.
* Licensed under Apache License, Version 2.0 (http://www.apache.org/licenses/LICENSE-2.0) 
*/

/*! 
 * X5 v3 (htttp://www.justep.com) 
 * Copyright 2014 Justep, Inc.
 * Licensed under Apache License, Version 2.0 (http://www.apache.org/licenses/LICENSE-2.0) 
 */

/*!
* Modified from jQuery MobiScroll v1.0.2
* http://mobiscroll.com
*
* Copyright 2010-2011, Acid Media
* Licensed under the MIT license.
*
*/

function FastClick(e,t){function r(e,t){return function(){return e.apply(t,arguments)}}var n;t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200;if(FastClick.notNeeded(e)){window.fastClickNeeded=!1;return}window.fastClickNeeded=!0;var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this;for(var o=0,u=i.length;o<u;o++)s[i[o]]=r(s[i[o]],s);deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;t==="click"?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;t==="click"?i.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(e,t,n,r)}),typeof e.onclick=="function"&&(n=e.onclick,e.addEventListener("click",function(e){n(e)},!1),e.onclick=null)}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(deviceIsIOS&&e.type==="file"||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.determineEventType=function(e){return deviceIsAndroid&&e.tagName.toLowerCase()==="select"?"mousedown":"click"},FastClick.prototype.focus=function(e){var t;deviceIsIOS&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0];if(deviceIsIOS){r=window.getSelection();if(r.rangeCount&&!r.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(e){if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))this.trackingClick=!1,this.targetElement=null;return!0},FastClick.prototype.findControl=function(e){return e.control!==undefined?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){var t,n,r,i,s,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=e.changedTouches[0],o=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=o.tagName.toLowerCase();if(r==="label"){t=this.findControl(o);if(t){this.focus(o);if(deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o)){if(e.timeStamp-n>100||deviceIsIOS&&window.top!==window&&r==="input")return this.targetElement=null,!1;this.focus(o),this.sendClick(o,e);if(!deviceIsIOS||r!=="select")this.targetElement=null,e.preventDefault();return!1}if(deviceIsIOS&&!deviceIsIOS4){i=o.fastClickScrollParent;if(i&&i.fastClickLastScrollTop!==i.scrollTop)return!0}return this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):e.target.type==="submit"&&e.detail===0?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){var e=this.layer;deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){var t,n;if(typeof window.ontouchstart=="undefined")return!0;n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(!deviceIsAndroid)return!0;t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}return e.style.msTouchAction==="none"?!0:!1},FastClick.attach=function(e,t){return new FastClick(e,t)},typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("$model/UI2/system/components/justep/lib/fastclick",[],function(){return FastClick}):typeof module!="undefined"&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,define("$model/UI2/system/components/justep/scrollView/lib/iscroll",["require","exports","module"],function(e,t,n){(function(e,n){function _(e){return s===""?e:(e=e.charAt(0).toUpperCase()+e.substr(1),s+e)}var r=Math,i=n.createElement("div").style,s=function(){var e="t,webkitT,MozT,msT,OT".split(","),t,n=0,r=e.length;for(;n<r;n++){t=e[n]+"ransform";if(t in i)return e[n].substr(0,e[n].length-1)}return!1}(),o=s?"-"+s.toLowerCase()+"-":"",u=_("transform"),a=_("transitionProperty"),f=_("transitionDuration"),l=_("transformOrigin"),c=_("transitionTimingFunction"),h=_("transitionDelay"),p=/android/gi.test(navigator.appVersion),d=/iphone|ipad/gi.test(navigator.appVersion),v=/hp-tablet/gi.test(navigator.appVersion),m=_("perspective")in i,g="ontouchstart"in e&&!v,y=s!==!1,b=_("transition")in i,w="onorientationchange"in e?"orientationchange":"resize",E=g?"touchstart":"mousedown",S=g?"touchmove":"mousemove",x=g?"touchend":"mouseup",T=g?"touchcancel":"mouseup",N=function(){if(s===!1)return!1;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[s]}(),C=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),k=function(){return e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}(),L=m?" translateZ(0)":"",A=/Android /.test(e.navigator.appVersion)&&!/Chrome\/\d/.test(e.navigator.appVersion),O=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},M=function(t,r){var i=this,s;i.wrapper=typeof t=="object"?t:n.getElementById(t),i.wrapper.style.overflow="hidden",i.scroller=i.wrapper.children[0],i.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},hScrollbar:!0,vScrollbar:!0,fixedScrollbar:p,hideScrollbar:d,fadeScrollbar:d&&m,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){!A&&!O(e.target,this.options.preventDefaultException)&&e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(s in r)i.options[s]=r[s];i.x=i.options.x,i.y=i.options.y,i.options.useTransform=y&&i.options.useTransform,i.options.hScrollbar=i.options.hScroll&&i.options.hScrollbar,i.options.vScrollbar=i.options.vScroll&&i.options.vScrollbar,i.options.zoom=i.options.useTransform&&i.options.zoom,i.options.useTransition=b&&i.options.useTransition,i.options.zoom&&p&&(L=""),i.scroller.style[a]=i.options.useTransform?o+"transform":"top left",i.scroller.style[f]="0",i.scroller.style[l]="0 0",i.options.useTransition&&(i.scroller.style[c]="cubic-bezier(0.33,0.66,0.66,1)"),i.options.useTransform?i.scroller.style[u]="translate("+i.x+"px,"+i.y+"px)"+L:i.scroller.style.cssText+=";position:absolute;top:"+i.y+"px;left:"+i.x+"px",i.options.useTransition&&(i.options.fixedScrollbar=!0),i.refresh(),i._bind(w,e),i._bind(E),g||i.options.wheelAction!="none"&&(i._bind("DOMMouseScroll"),i._bind("mousewheel")),i.options.checkDOMChanges&&(i.checkDOMTime=setInterval(function(){i._checkDOMChanges()},500))};M.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case E:if(!g&&e.button!==0)return;t._start(e);break;case S:t._move(e);break;case x:case T:t._end(e);break;case w:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(e);break;case N:t._transitionEnd(e)}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)return;this.refresh()},_scrollbar:function(e){var t=this,i;if(!t[e+"Scrollbar"]){t[e+"ScrollbarWrapper"]&&(y&&(t[e+"ScrollbarIndicator"].style[u]=""),t[e+"ScrollbarWrapper"].parentNode.removeChild(t[e+"ScrollbarWrapper"]),t[e+"ScrollbarWrapper"]=null,t[e+"ScrollbarIndicator"]=null);return}t[e+"ScrollbarWrapper"]||(i=n.createElement("div"),t.options.scrollbarClass?i.className=t.options.scrollbarClass+e.toUpperCase():i.style.cssText="position:absolute;z-index:100;"+(e=="h"?"height:4px;bottom:1px;left:2px;right:"+(t.vScrollbar?"4":"2")+"px":"width:4px;bottom:"+(t.hScrollbar?"4":"2")+"px;top:2px;right:1px"),i.style.cssText+=";pointer-events:none;"+o+"transition-property:opacity;"+o+"transition-duration:"+(t.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(t.options.hideScrollbar?"0":"1"),t.wrapper.appendChild(i),t[e+"ScrollbarWrapper"]=i,i=n.createElement("div"),t.options.scrollbarClass||(i.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+o+"background-clip:padding-box;"+o+"box-sizing:border-box;"+(e=="h"?"height:100%":"width:100%")+";"+o+"border-radius:3px;border-radius:3px"),i.style.cssText+=";pointer-events:none;"+o+"transition-property:"+o+"transform;"+o+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+o+"transition-duration:0;"+o+"transform: translate(0,0)"+L,t.options.useTransition&&(i.style.cssText+=";"+o+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),t[e+"ScrollbarWrapper"].appendChild(i),t[e+"ScrollbarIndicator"]=i),e=="h"?(t.hScrollbarSize=t.hScrollbarWrapper.clientWidth,t.hScrollbarIndicatorSize=r.max(r.round(t.hScrollbarSize*t.hScrollbarSize/t.scrollerW),8),t.hScrollbarIndicator.style.width=t.hScrollbarIndicatorSize+"px",t.hScrollbarMaxScroll=t.hScrollbarSize-t.hScrollbarIndicatorSize,t.hScrollbarProp=t.hScrollbarMaxScroll/t.maxScrollX):(t.vScrollbarSize=t.vScrollbarWrapper.clientHeight,t.vScrollbarIndicatorSize=r.max(r.round(t.vScrollbarSize*t.vScrollbarSize/t.scrollerH),8),t.vScrollbarIndicator.style.height=t.vScrollbarIndicatorSize+"px",t.vScrollbarMaxScroll=t.vScrollbarSize-t.vScrollbarIndicatorSize,t.vScrollbarProp=t.vScrollbarMaxScroll/t.maxScrollY),t._scrollbarPos(e,!0)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},p?200:0)},_pos:function(e,t){if(this.zoomed)return;e=this.hScroll?e:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[u]="translate("+e+"px,"+t+"px) scale("+this.scale+")"+L:(e=r.round(e),t=r.round(t),this.scroller.style.left=e+"px",this.scroller.style.top=t+"px"),this.x=e,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(e,t){var n=this,i=e=="h"?n.x:n.y,s;if(!n[e+"Scrollbar"])return;i=n[e+"ScrollbarProp"]*i,i<0?(n.options.fixedScrollbar||(s=n[e+"ScrollbarIndicatorSize"]+r.round(i*3),s<8&&(s=8),n[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px"),i=0):i>n[e+"ScrollbarMaxScroll"]&&(n.options.fixedScrollbar?i=n[e+"ScrollbarMaxScroll"]:(s=n[e+"ScrollbarIndicatorSize"]-r.round((i-n[e+"ScrollbarMaxScroll"])*3),s<8&&(s=8),n[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px",i=n[e+"ScrollbarMaxScroll"]+(n[e+"ScrollbarIndicatorSize"]-s))),n[e+"ScrollbarWrapper"].style[h]="0",n[e+"ScrollbarWrapper"].style.opacity=t&&n.options.hideScrollbar?"0":"1",n[e+"ScrollbarIndicator"].style[u]="translate("+(e=="h"?i+"px,0)":"0,"+i+"px)")+L},_start:function(t){var n=this,i=g?t.touches[0]:t,s,o,a,f,l;if(!n.enabled)return;n.options.onBeforeScrollStart&&n.options.onBeforeScrollStart.call(n,t),(n.options.useTransition||n.options.zoom)&&n._transitionTime(0),n.moved=!1,n.animating=!1,n.zoomed=!1,n.distX=0,n.distY=0,n.absDistX=0,n.absDistY=0,n.dirX=0,n.dirY=0,n.options.zoom&&g&&t.touches.length>1&&(f=r.abs(t.touches[0].pageX-t.touches[1].pageX),l=r.abs(t.touches[0].pageY-t.touches[1].pageY),n.touchesDistStart=r.sqrt(f*f+l*l),n.originX=r.abs(t.touches[0].pageX+t.touches[1].pageX-n.wrapperOffsetLeft*2)/2-n.x,n.originY=r.abs(t.touches[0].pageY+t.touches[1].pageY-n.wrapperOffsetTop*2)/2-n.y,n.options.onZoomStart&&n.options.onZoomStart.call(n,t));if(n.options.momentum){n.options.useTransform?(s=getComputedStyle(n.scroller,null)[u].replace(/[^0-9\-.,]/g,"").split(","),o=+(s[12]||s[4]),a=+(s[13]||s[5])):(o=+getComputedStyle(n.scroller,null).left.replace(/[^0-9-]/g,""),a=+getComputedStyle(n.scroller,null).top.replace(/[^0-9-]/g,""));if(o!=n.x||a!=n.y)n.options.useTransition?n._unbind(N):k(n.aniTime),n.steps=[],n._pos(o,a),n.options.onScrollEnd&&n.options.onScrollEnd.call(n)}n.absStartX=n.x,n.absStartY=n.y,n.startX=n.x,n.startY=n.y,n.pointX=i.pageX,n.pointY=i.pageY,n.startTime=t.timeStamp||Date.now(),n.options.onScrollStart&&n.options.onScrollStart.call(n,t),n._bind(S,e),n._bind(x,e),n._bind(T,e)},_move:function(e){var t=this,n=g?e.touches[0]:e,i=n.pageX-t.pointX,s=n.pageY-t.pointY,o=t.x+i,a=t.y+s,f,l,c,h=e.timeStamp||Date.now();O(e.target,this.options.preventDefaultException)||e.preventDefault(),t.options.onBeforeScrollMove&&t.options.onBeforeScrollMove.call(t,e);if(t.options.zoom&&g&&e.touches.length>1){f=r.abs(e.touches[0].pageX-e.touches[1].pageX),l=r.abs(e.touches[0].pageY-e.touches[1].pageY),t.touchesDist=r.sqrt(f*f+l*l),t.zoomed=!0,c=1/t.touchesDistStart*t.touchesDist*this.scale,c<t.options.zoomMin?c=.5*t.options.zoomMin*Math.pow(2,c/t.options.zoomMin):c>t.options.zoomMax&&(c=2*t.options.zoomMax*Math.pow(.5,t.options.zoomMax/c)),t.lastScale=c/this.scale,o=this.originX-this.originX*t.lastScale+this.x,a=this.originY-this.originY*t.lastScale+this.y,this.scroller.style[u]="translate("+o+"px,"+a+"px) scale("+c+")"+L,t.options.onZoom&&t.options.onZoom.call(t,e);return}t.pointX=n.pageX,t.pointY=n.pageY;if(o>0||o<t.maxScrollX)o=t.options.bounce?t.x+i/2:o>=0||t.maxScrollX>=0?0:t.maxScrollX;if(a>t.minScrollY||a<t.maxScrollY)a=t.options.bounce?t.y+s/2:a>=t.minScrollY||t.maxScrollY>=0?t.minScrollY:t.maxScrollY;t.distX+=i,t.distY+=s,t.absDistX=r.abs(t.distX),t.absDistY=r.abs(t.distY);if(t.absDistX<6&&t.absDistY<6)return;t.options.lockDirection&&(t.absDistX>t.absDistY+5?(a=t.y,s=0):t.absDistY>t.absDistX+5&&(o=t.x,i=0)),t.moved=!0,t._pos(o,a),t.dirX=i>0?-1:i<0?1:0,t.dirY=s>0?-1:s<0?1:0,h-t.startTime>300&&(t.startTime=h,t.startX=t.x,t.startY=t.y),t.options.onScrollMove&&t.options.onScrollMove.call(t,e)},_end:function(t){if(g&&t.touches.length!==0)return;var i=this,s=g?t.changedTouches[0]:t,o,a,l={dist:0,time:0},c={dist:0,time:0},h=(t.timeStamp||Date.now())-i.startTime,p=i.x,d=i.y,v,m,y,b,w;i._unbind(S,e),i._unbind(x,e),i._unbind(T,e),O(t.target,this.options.preventDefaultException)||t.preventDefault(),i.options.onBeforeScrollEnd&&i.options.onBeforeScrollEnd.call(i,t);if(i.zoomed){w=i.scale*i.lastScale,w=Math.max(i.options.zoomMin,w),w=Math.min(i.options.zoomMax,w),i.lastScale=w/i.scale,i.scale=w,i.x=i.originX-i.originX*i.lastScale+i.x,i.y=i.originY-i.originY*i.lastScale+i.y,i.scroller.style[f]="200ms",i.scroller.style[u]="translate("+i.x+"px,"+i.y+"px) scale("+i.scale+")"+L,i.zoomed=!1,i.refresh(),i.options.onZoomEnd&&i.options.onZoomEnd.call(i,t);return}if(!i.moved){g&&(console.log("this.options.handleClick:"+this.options.handleClick),i.doubleTapTimer&&i.options.zoom?(clearTimeout(i.doubleTapTimer),i.doubleTapTimer=null,i.options.onZoomStart&&i.options.onZoomStart.call(i,t),i.zoom(i.pointX,i.pointY,i.scale==1?i.options.doubleTapZoom:1),i.options.onZoomEnd&&setTimeout(function(){i.options.onZoomEnd.call(i,t)},200)):this.options.handleClick&&(e.fastClickNeeded||(i.doubleTapTimer=setTimeout(function(){i.doubleTapTimer=null,o=s.target;while(o.nodeType!=1)o=o.parentNode;o.tagName!="SELECT"&&o.tagName!="INPUT"&&o.tagName!="TEXTAREA"&&(console.log("iscroll click fake emit"),a=n.createEvent("MouseEvents"),a.initMouseEvent("click",!0,!0,t.view,1,s.screenX,s.screenY,s.clientX,s.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),a._fake=!0,o.dispatchEvent(a))},i.options.zoom?250:0)))),i._resetPos(400),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,t);return}if(h<300&&i.options.momentum){l=p?i._momentum(p-i.startX,h,-i.x,i.scrollerW-i.wrapperW+i.x,i.options.bounce?i.wrapperW:0):l,c=d?i._momentum(d-i.startY,h,-i.y,i.maxScrollY<0?i.scrollerH-i.wrapperH+i.y-i.minScrollY:0,i.options.bounce?i.wrapperH:0):c,p=i.x+l.dist,d=i.y+c.dist;if(i.x>0&&p>0||i.x<i.maxScrollX&&p<i.maxScrollX)l={dist:0,time:0};if(i.y>i.minScrollY&&d>i.minScrollY||i.y<i.maxScrollY&&d<i.maxScrollY)c={dist:0,time:0}}if(l.dist||c.dist){y=r.max(r.max(l.time,c.time),10),i.options.snap&&(v=p-i.absStartX,m=d-i.absStartY,r.abs(v)<i.options.snapThreshold&&r.abs(m)<i.options.snapThreshold?i.scrollTo(i.absStartX,i.absStartY,200):(b=i._snap(p,d),p=b.x,d=b.y,y=r.max(b.time,y))),i.scrollTo(r.round(p),r.round(d),y),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,t);return}if(i.options.snap){v=p-i.absStartX,m=d-i.absStartY,r.abs(v)<i.options.snapThreshold&&r.abs(m)<i.options.snapThreshold?i.scrollTo(i.absStartX,i.absStartY,200):(b=i._snap(i.x,i.y),(b.x!=i.x||b.y!=i.y)&&i.scrollTo(b.x,b.y,b.time)),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,t);return}i._resetPos(200),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,t)},_resetPos:function(e){var t=this,n=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(n==t.x&&r==t.y){t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&(s=="webkit"&&(t.hScrollbarWrapper.style[h]="300ms"),t.hScrollbarWrapper.style.opacity="0"),t.vScrollbar&&t.options.hideScrollbar&&(s=="webkit"&&(t.vScrollbarWrapper.style[h]="300ms"),t.vScrollbarWrapper.style.opacity="0");return}t.scrollTo(n,r,e||0)},_wheel:function(e){var t=this,n,r,i,s,o;if("wheelDeltaX"in e)n=e.wheelDeltaX/12,r=e.wheelDeltaY/12;else if("wheelDelta"in e)n=r=e.wheelDelta/12;else{if(!("detail"in e))return;n=r=-e.detail*3}if(t.options.wheelAction=="zoom"){o=t.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0)),o<t.options.zoomMin&&(o=t.options.zoomMin),o>t.options.zoomMax&&(o=t.options.zoomMax),o!=t.scale&&(!t.wheelZoomCount&&t.options.onZoomStart&&t.options.onZoomStart.call(t,e),t.wheelZoomCount++,t.zoom(e.pageX,e.pageY,o,400),setTimeout(function(){t.wheelZoomCount--,!t.wheelZoomCount&&t.options.onZoomEnd&&t.options.onZoomEnd.call(t,e)},400));return}i=t.x+n,s=t.y+r,i>0?i=0:i<t.maxScrollX&&(i=t.maxScrollX),s>t.minScrollY?s=t.minScrollY:s<t.maxScrollY&&(s=t.maxScrollY),t.maxScrollY<0&&t.scrollTo(i,s,0)},_transitionEnd:function(e){var t=this;if(e.target!=t.scroller)return;t._unbind(N),t._startAni()},_startAni:function(){var e=this,t=e.x,n=e.y,i=Date.now(),s,o,u;if(e.animating)return;if(!e.steps.length){e._resetPos(400);return}s=e.steps.shift(),s.x==t&&s.y==n&&(s.time=0),e.animating=!0,e.moved=!0;if(e.options.useTransition){e._transitionTime(s.time),e._pos(s.x,s.y),e.animating=!1,s.time?e._bind(N):e._resetPos(0);return}u=function(){var a=Date.now(),f,l;if(a>=i+s.time){e._pos(s.x,s.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),e._startAni();return}a=(a-i)/s.time-1,o=r.sqrt(1-a*a),f=(s.x-t)*o+t,l=(s.y-n)*o+n,e._pos(f,l),e.animating&&(e.aniTime=C(u))},u()},_transitionTime:function(e){e+="ms",this.scroller.style[f]=e,!e&&A&&(this.scroller.style[f]="0.001s"),this.hScrollbar&&(this.hScrollbarIndicator.style[f]=e),this.vScrollbar&&(this.vScrollbarIndicator.style[f]=e)},_momentum:function(e,t,n,i,s){var o=6e-4,u=r.abs(e)/t,a=u*u/(2*o),f=0,l=0;return e>0&&a>n?(l=s/(6/(a/u*o)),n+=l,u=u*n/a,a=n):e<0&&a>i&&(l=s/(6/(a/u*o)),i+=l,u=u*i/a,a=i),a*=e<0?-1:1,f=u/o,{dist:a,time:r.round(f)}},_offset:function(e){var t=-e.offsetLeft,n=-e.offsetTop;while(e=e.offsetParent)t-=e.offsetLeft,n-=e.offsetTop;return e!=this.wrapper&&(t*=this.scale,n*=this.scale),{left:t,top:n}},_snap:function(e,t){var n=this,i,s,o,u,a,f;o=n.pagesX.length-1;for(i=0,s=n.pagesX.length;i<s;i++)if(e>=n.pagesX[i]){o=i;break}o==n.currPageX&&o>0&&n.dirX<0&&o--,e=n.pagesX[o],a=r.abs(e-n.pagesX[n.currPageX]),a=a?r.abs(n.x-e)/a*500:0,n.currPageX=o,o=n.pagesY.length-1;for(i=0;i<o;i++)if(t>=n.pagesY[i]){o=i;break}return o==n.currPageY&&o>0&&n.dirY<0&&o--,t=n.pagesY[o],f=r.abs(t-n.pagesY[n.currPageY]),f=f?r.abs(n.y-t)/f*500:0,n.currPageY=o,u=r.round(r.max(a,f))||200,{x:e,y:t,time:u}},_bind:function(e,t,n){(t||this.scroller).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this.scroller).removeEventListener(e,this,!!n)},destroy:function(){var t=this;t.scroller.style[u]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(w,e),t._unbind(E),t._unbind(S,e),t._unbind(x,e),t._unbind(T,e),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(N),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var e=this,t,n,i,s,o=0,u=0;e.scale<e.options.zoomMin&&(e.scale=e.options.zoomMin),e.wrapperW=e.wrapper.clientWidth||1,e.wrapperH=e.wrapper.clientHeight||1,e.minScrollY=-e.options.topOffset||0,e.scrollerW=r.round(e.scroller.offsetWidth*e.scale),e.scrollerH=r.round((e.scroller.offsetHeight+e.minScrollY)*e.scale),e.maxScrollX=e.wrapperW-e.scrollerW,e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY,e.dirX=0,e.dirY=0,e.options.onRefresh&&e.options.onRefresh.call(e),e.hScroll=e.options.hScroll&&e.maxScrollX<0,e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH),e.hScrollbar=e.hScroll&&e.options.hScrollbar,e.vScrollbar=e.vScroll&&e.options.vScrollbar&&e.scrollerH>e.wrapperH,t=e._offset(e.wrapper),e.wrapperOffsetLeft=-t.left,e.wrapperOffsetTop=-t.top;if(typeof e.options.snap=="string"){e.pagesX=[],e.pagesY=[],s=e.scroller.querySelectorAll(e.options.snap);for(n=0,i=s.length;n<i;n++)o=e._offset(s[n]),o.left+=e.wrapperOffsetLeft,o.top+=e.wrapperOffsetTop,e.pagesX[n]=o.left<e.maxScrollX?e.maxScrollX:o.left*e.scale,e.pagesY[n]=o.top<e.maxScrollY?e.maxScrollY:o.top*e.scale}else if(e.options.snap){e.pagesX=[];while(o>=e.maxScrollX)e.pagesX[u]=o,o-=e.wrapperW,u++;e.maxScrollX%e.wrapperW&&(e.pagesX[e.pagesX.length]=e.maxScrollX-e.pagesX[e.pagesX.length-1]+e.pagesX[e.pagesX.length-1]),o=0,u=0,e.pagesY=[];while(o>=e.maxScrollY)e.pagesY[u]=o,o-=e.wrapperH,u++;e.maxScrollY%e.wrapperH&&(e.pagesY[e.pagesY.length]=e.maxScrollY-e.pagesY[e.pagesY.length-1]+e.pagesY[e.pagesY.length-1])}e._scrollbar("h"),e._scrollbar("v"),e.zoomed||(e.scroller.style[f]="0",e._resetPos(400))},scrollTo:function(e,t,n,r){var i=this,s=e,o,u;i.stop(),s.length||(s=[{x:e,y:t,time:n,relative:r}]);for(o=0,u=s.length;o<u;o++)s[o].relative&&(s[o].x=i.x-s[o].x,s[o].y=i.y-s[o].y),i.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0});i._startAni()},scrollToElement:function(e,t){var n=this,i;e=e.nodeType?e:n.scroller.querySelector(e);if(!e)return;i=n._offset(e),i.left+=n.wrapperOffsetLeft,i.top+=n.wrapperOffsetTop,i.left=i.left>0?0:i.left<n.maxScrollX?n.maxScrollX:i.left,i.top=i.top>n.minScrollY?n.minScrollY:i.top<n.maxScrollY?n.maxScrollY:i.top,t=t===undefined?r.max(r.abs(i.left)*2,r.abs(i.top)*2):t,n.scrollTo(i.left,i.top,t)},scrollToPage:function(e,t,n){var r=this,i,s;n=n===undefined?400:n,r.options.onScrollStart&&r.options.onScrollStart.call(r),r.options.snap?(e=e=="next"?r.currPageX+1:e=="prev"?r.currPageX-1:e,t=t=="next"?r.currPageY+1:t=="prev"?r.currPageY-1:t,e=e<0?0:e>r.pagesX.length-1?r.pagesX.length-1:e,t=t<0?0:t>r.pagesY.length-1?r.pagesY.length-1:t,r.currPageX=e,r.currPageY=t,i=r.pagesX[e],s=r.pagesY[t]):(i=-r.wrapperW*e,s=-r.wrapperH*t,i<r.maxScrollX&&(i=r.maxScrollX),s<r.maxScrollY&&(s=r.maxScrollY)),r.scrollTo(i,s,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(S,e),this._unbind(x,e),this._unbind(T,e)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(N):k(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(e,t,n,r){var i=this,s=n/i.scale;if(!i.options.useTransform)return;i.zoomed=!0,r=r===undefined?200:r,e=e-i.wrapperOffsetLeft-i.x,t=t-i.wrapperOffsetTop-i.y,i.x=e-e*s+i.x,i.y=t-t*s+i.y,i.scale=n,i.refresh(),i.x=i.x>0?0:i.x<i.maxScrollX?i.maxScrollX:i.x,i.y=i.y>i.minScrollY?i.minScrollY:i.y<i.maxScrollY?i.maxScrollY:i.y,i.scroller.style[f]=r+"ms",i.scroller.style[u]="translate("+i.x+"px,"+i.y+"px) scale("+n+")"+L,i.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},i=null,typeof t!="undefined"?t.iScroll=M:e.iScroll=M})(window,document)}),define("bootstrap",["require","jquery"],function(e){var t=jquery=jQuery=e("jquery");if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one(e.support.transition.end,function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){s.trigger("closed.bs.alert").remove()}var r=e(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var s=e(i);t&&t.preventDefault(),s.length||(s=r.hasClass("alert")?r:r.parent()),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one(e.support.transition.end,n).emulateTransitionEnd(150):n())};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),"string"==typeof t&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",s.resetText||r.data("resetText",r[i]()),r[i](s[t]||this.options[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),s="object"==typeof n&&n;i||r.data("bs.button",i=new t(this,s)),"toggle"==n?i.toggle():n&&i.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(jQuery),+function(e){var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var n=this,r=this.getActiveIndex();return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){return this.sliding?void 0:this.slide("next")},t.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},t.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o="next"==t?"left":"right",u="next"==t?"first":"last",f=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[u]()}if(i.hasClass("active"))return this.sliding=!1;var l=e.Event("slide.bs.carousel",{relatedTarget:i[0],direction:o});return this.$element.trigger(l),l.isDefaultPrevented()?void 0:(this.sliding=!0,s&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=e(f.$indicators.children()[f.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),r.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*r.css("transition-duration").slice(0,-1))):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),s&&this.cycle(),this)};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n),o="string"==typeof n?n:s.slide;i||r.data("bs.carousel",i=new t(this,s)),"number"==typeof n?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,r=e(this),i=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),r.data()),o=r.attr("data-slide-to");o&&(s.interval=!1),i.carousel(s),(o=r.attr("data-slide-to"))&&i.data("bs.carousel").to(o),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(jQuery),+function(e){var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var o=e.camelCase(["scroll",i].join("-"));this.$element.one(e.support.transition.end,e.proxy(s,this)).emulateTransitionEnd(350)[i](this.$element[0][o])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one(e.support.transition.end,e.proxy(r,this)).emulateTransitionEnd(350):r.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),s=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);!i&&s.toggle&&"show"==n&&(n=!n),i||r.data("bs.collapse",i=new t(this,s)),"string"==typeof n&&i[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var n,r=e(this),i=r.attr("data-target")||t.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),s=e(i),o=s.data("bs.collapse"),u=o?"toggle":r.data(),f=r.attr("data-parent"),l=f&&e(f);o&&o.transitioning||(l&&l.find('[data-toggle=collapse][data-parent="'+f+'"]').not(r).addClass("collapsed"),r[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(u)})}(jQuery),+function(e){function t(t){e(r).remove(),e(i).each(function(){var r=n(e(this)),i={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown",i))})}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}var r=".dropdown-backdrop",i="[data-toggle=dropdown]",s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var s=n(i),o=s.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var u={relatedTarget:this};if(s.trigger(r=e.Event("show.bs.dropdown",u)),r.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown",u),i.focus()}return!1}},s.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var s=n(r),o=s.hasClass("open");if(!o||o&&27==t.keyCode)return 27==t.which&&s.find(i).focus(),r.click();var u=" li:not(.divider):visible a",f=s.find("[role=menu]"+u+", [role=listbox]"+u);if(f.length){var l=f.index(f.filter(":focus"));38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<f.length-1&&l++,~l||(l=0),f.eq(l).focus()}}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new s(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,s.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu], [role=listbox]",s.prototype.keydown)}(jQuery),+function(e){var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);s||i.data("bs.modal",s=new t(this,o)),"string"==typeof n?s[n](r):o.show&&s.show(r)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());n.is("a")&&t.preventDefault(),i.modal(s,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r);for(var i=this.options.trigger.split(" "),s=i.length;s--;){var o=i[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var u="hover"==o?"mouseenter":"focusin",f="hover"==o?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void (n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void (n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this,r=this.tip();this.setContent(),this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,o=s.test(i);o&&(i=i.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),f=r[0].offsetWidth,l=r[0].offsetHeight;if(o){var c=this.$element.parent(),h=i,p=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:c.outerWidth(),v="body"==this.options.container?window.innerHeight:c.outerHeight(),m="body"==this.options.container?0:c.offset().left;i="bottom"==i&&u.top+u.height+l-p>v?"top":"top"==i&&u.top-p-l<0?"bottom":"right"==i&&u.right+f>d?"left":"left"==i&&u.left-f<m?"right":i,r.removeClass(h).addClass(i)}var g=this.getCalculatedOffset(i,u,f,l);this.applyPlacement(g,i),this.hoverState=null;var y=function(){n.$element.trigger("shown.bs."+n.type)};e.support.transition&&this.$tip.hasClass("fade")?r.one(e.support.transition.end,y).emulateTransitionEnd(150):y()}},t.prototype.applyPlacement=function(t,n){var r,i=this.tip(),s=i[0].offsetWidth,o=i[0].offsetHeight,u=parseInt(i.css("margin-top"),10),f=parseInt(i.css("margin-left"),10);isNaN(u)&&(u=0),isNaN(f)&&(f=0),t.top=t.top+u,t.left=t.left+f,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==n&&c!=o&&(r=!0,t.top=t.top+o-c),/bottom|top/.test(n)){var h=0;t.left<0&&(h=-2*t.left,t.left=0,i.offset(t),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(h-s+l,l,"left")}else this.replaceArrow(c-o,c,"top");r&&i.offset(t)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=n.hoverState&&r.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,r=this.tip(),i=e.Event("hide.bs."+this.type);return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s="object"==typeof n&&n;(i||"destroy"!=n)&&(i||r.data("bs.tooltip",i=new t(this,s)),"string"==typeof n&&i[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s="object"==typeof n&&n;(i||"destroy"!=n)&&(i||r.data("bs.popover",i=new t(this,s)),"string"==typeof n&&i[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){function t(n,r){var i,s=e.proxy(this.process,this);this.$element=e(e(n).is("body")?window:n),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||(i=e(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var n=this;this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=n-this.$scrollElement.height(),i=this.offsets,s=this.targets,o=this.activeTarget;if(t>=r)return o!=(e=s.last()[0])&&this.activate(e);if(o&&t<=i[0])return o!=(e=s[0])&&this.activate(e);for(e=i.length;e--;)o!=s[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,s)),"string"==typeof n&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery),+function(e){var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:i});if(t.trigger(s),!s.isDefaultPrevented()){var o=e(r);this.activate(t.parent("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},t.prototype.activate=function(t,n,r){function i(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var s=n.find("> .active"),o=r&&e.support.transition&&s.hasClass("fade");o?s.one(e.support.transition.end,i).emulateTransitionEnd(150):i(),s.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),"string"==typeof n&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$window.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=e(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),s=this.options.offset,o=s.top,u=s.bottom;"top"==this.affixed&&(i.top+=r),"object"!=typeof s&&(u=o=s),"function"==typeof o&&(o=s.top(this.$element)),"function"==typeof u&&(u=s.bottom(this.$element));var f=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=u&&i.top+this.$element.height()>=n-u?"bottom":null!=o&&o>=r?"top":!1;if(this.affixed!==f){this.unpin&&this.$element.css("top","");var l="affix"+(f?"-"+f:""),c=e.Event(l+".bs.affix");this.$element.trigger(c),c.isDefaultPrevented()||(this.affixed=f,this.unpin="bottom"==f?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(l).trigger(e.Event(l.replace("affix","affixed"))),"bottom"==f&&this.$element.offset({top:n-u-this.$element.height()}))}}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s="object"==typeof n&&n;i||r.data("bs.affix",i=new t(this,s)),"string"==typeof n&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(jQuery)}),define("$model/UI2/system/components/justep/bar/bar.config",["require"],function(e){return{properties:{},events:[],binds:{}}}),define("$model/UI2/system/components/justep/bar/bar",["require","$UI/system/lib/base/component","$UI/system/lib/base/string","$UI/system/lib/base/viewComponent","./bar.config","css!./css/bar"],function(e){var t=e("$UI/system/lib/base/component"),n=e("$UI/system/lib/base/string"),r=e("$UI/system/lib/base/viewComponent"),i=e.normalizeName("./bar"),s=e("./bar.config");e("css!./css/bar").load();var o=r.extend({getUrl:function(){return i},constructor:function(e){this.callParent(e)},buildTemplate:function(e){return n.format("<div class='x-bar' xid='{0}' componet='{1}'></div>",e.xid)},getConfig:function(){return s},init:function(){this.callParent()}});return t.register(i,o),o}),define("$model/UI2/system/components/justep/button/button.config",["require"],function(e){return{properties:{label:"string",icon:"string",target:"string",disabled:"boolean"},events:["onClick"],binds:{}}}),define("$model/UI2/system/components/justep/button/button",["require","$UI/system/components/justep/common/res","jquery","$UI/system/lib/justep","./button.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("jquery"),n=e("$UI/system/lib/justep"),r=e.normalizeName("./button"),i=e("./button.config"),s=n.BindComponent.extend({constructor:function(e){this.callParent(e),this.disabled=!1,this.icon="",this.label="",this.target="",this.opIcon="",this.opLabel="",this.isImgIcon=!1,this.imgIcon=["",""],this.on(n.Component.OPERATION_CHANGED,function(e){this.getModel().componentPromise(this.domNode).done(function(t){t._doOperationChanged(e)})},this)},getConfig:function(){return i},dispose:function(){this.$domNode.off("touchstart"),this.$domNode.off("click",t.proxy(this._doClick,this)),this.callParent()},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]="btn btn-default"),"<a class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+r+"' "+" ><i class='"+(this.isImgIcon?"":e.icon)+"'/>"+(this.isImgIcon?"<img src='"+this.imgIcon[this.disabled?1:0]+"'/>":"")+"<span>"+(e.label?e.label:"")+"</span></a>"},doInit:function(e,n){this.$domNode.on("click",t.proxy(this._doClick,this)),this.target&&this._bindTargetEvent(this.target)},_bindTargetEvent:function(e){var t=this.getModel(),n=this;t.componentPromise(e).done(function(e){e.on("onActive",n._doActiveTarget,n),e.on("onInactive",n._doInactiveTarget,n),typeof e["isActive"]=="function"&&e.isActive()&&n.addClass("active")}),this.on("onClick",this._doClickActiveTarget,this)},_unBindTargetEvent:function(e){if(e){var t=this.getModel(),n=this;t.componentPromise(e).done(function(e){e.off("onActive",n._doActiveTarget,n),e.off("onInactive",n._doInactiveTarget,n)}),this.off("onClick",this._doClickActiveTarget,this)}},_doActiveTarget:function(e){this.addClass("active")},_doInactiveTarget:function(e){this.removeClass("active")},_doClickActiveTarget:function(e){var t=this.getModel(),n=t.comp(this.target);n&&typeof n["active"]=="function"&&n.active()},_doOperationPropChanged:function(e){e.property=="label"?this.set({opLabel:e.value}):e.property=="icon"?this.set({opIcon:e.value}):e.property=="enable"&&this.set({disabled:!e.value})},_doOperationChanged:function(e){if("onClick"==e.eventName){var n,r=this;this.operation&&(n=this.operation,this.getModel().componentPromise(n.owner).done(function(e){e.unOpChange(n.name,r._doOperationPropChanged,r)}));var i=this.getEventOperation("onClick");t.isArray(i)&&(i=i.length>0?i[0]:null),i&&(n=this._getOperation(i.operation),n&&(this.operation=n,i.operation=n,this.getModel().componentPromise(n.owner).done(function(e){e.onOpChange(n.name,r._doOperationPropChanged,r);var t={};t.opIcon=e.getOperationIcon(n.name),t.opLabel=e.getOperationLabel(n.name),t.disabled=!e.getOperationEnable(n.name),r.set(t)})))}},_getLabelNode:function(){return this.$domNode.children("span")},_getIconNode:function(){return this.$domNode.children("i")},_getImgNode:function(){return this.$domNode.children("img")},propertyChangedHandler:function(e,t,n){switch(e){case"label":case"opLabel":t!=n&&this.$domNode&&this._getLabelNode().text(this.label||this.opLabel);break;case"target":t!=n&&this._inited&&(this._unBindTargetEvent(t),this._bindTargetEvent(n));break;case"icon":case"opIcon":if(t!=n){this._setIcon(this.icon||this.opIcon);if(this.$domNode)if(!this.isImgIcon)t&&this._getIconNode().removeClass(t),n&&this._getIconNode().addClass(this.icon||this.opIcon),this._getImgNode().remove();else if(n){var r=this._getImgNode();r.size()<=0&&this._getLabelNode().before("<img/>"),this._getImgNode().attr("src",this.imgIcon[this.disabled?1:0]),this._getIconNode().removeAttr("class")}}break;case"disabled":t!=n&&this.isImgIcon&&this.$domNode&&this._getImgNode().attr("src",this.imgIcon[this.disabled?1:0]),n?this.$domNode.attr("disabled",!0):this.$domNode.removeAttr("disabled");break;default:this.callParent(e,t,n)}},_setIcon:function(t){if(typeof t=="string"&&0===t.indexOf("img:")){this.isImgIcon=!0;var n=t.indexOf("|");n<0&&(n=t.length),this.imgIcon[0]=e.toUrl(t.slice(4,n)),this.imgIcon[1]=e.toUrl(t.slice(n+1,t.length))}else this.isImgIcon=!1},_doClick:function(e){this.fireEvent("onClick",{source:this})},render:function(){this.callParent()}});return n.Component.register(r,s),s}),define("$model/UI2/system/components/justep/button/buttonGroup.config",["require"],function(e){return{properties:{tabbed:"boolean",selected:"string",disabled:"boolean"},events:["onSelect"],binds:{}}}),define("$model/UI2/system/components/justep/button/buttonGroup",["require","$UI/system/components/justep/common/res","jquery","$UI/system/lib/justep","./button","./buttonGroup.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("jquery"),n=e("$UI/system/lib/justep"),r=e("./button"),i=e.normalizeName("./buttonGroup"),s=e("./buttonGroup.config"),o=n.BindComponent.extend({constructor:function(e){this.callParent(e),this.disabled=!1,this.tabbed=!1,this.selected=null},dispose:function(){this.$domNode.off("click",t.proxy(this._doClick,this)),this.callParent()},getConfig:function(){return s},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]="btn-group"),"<div class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+i+"' "+" ></div>"},doInit:function(e,n){this.$domNode.on("click",t.proxy(this._doClick,this))},propertyChangedHandler:function(e,t,n){switch(e){case"tabbed":if(t!=n&&this._inited){typeof n=="string"&&(n=n=="true");var r=n?"addClass":"removeClass";this.$domNode[r](e)}break;case"selected":t!=n&&this.select(n);break;default:this.callParent(e,t,n)}},_doClick:function(e){if(this.tabbed){var t=this._getBtn(e.target);this.select(t)}},_getBtn:function(e){if(e==this.domNode)return null;var t=n.Component.getComponent(e);return t instanceof r?t:this._getBtn(e.parentNode)},select:function(e){if("string"==typeof e){var t=this.getModel(),n=e;e=t.comp(n),e||t.componentPromise(n).done(function(e){e.addClass("active")})}if(e instanceof r){if(this.hasListener("onSelect")){var i={source:this,item:e,cancel:!1};this.fireEvent("onSelect",i);if(i.cancel)return}this.each(function(t){var n=t!==e?"removeClass":"addClass";t[n]("active")},this)}},each:function(e,t){typeof e=="function"&&this.$domNode.children("a.btn").each(function(){var i=n.Component.getComponent(this);i instanceof r&&e.call(t||window,i)})},render:function(){this.callParent();var e=["tabbed"];for(var t=0;t<e.length;t++){var n=this[e[t]]?"addClass":"removeClass";this.$domNode[n](e[t])}}});return n.Component.register(i,o),o}),define("$model/UI2/system/components/justep/button/radio.config",["require"],function(e){return{properties:{},events:["onChange"],binds:{"bind-ref":"ref","bind-label":"label","bind-value":"value"}}}),define("$model/UI2/system/components/justep/button/radio",["require","$UI/system/components/justep/common/res","$UI/system/lib/justep","./radio.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("$UI/system/lib/justep"),n=e.normalizeName("./radio"),r=e("./radio.config"),i=t.BindComponent.extend({_defaultClass:"x-radio",_type:"radio",getConfig:function(){return r},constructor:function(e){this.callParent(e),this.disabled=!1,this.label=null,this.name=null,this.checkedValue=undefined,this.value=null,this.checked=!1,this.on(t.ViewComponent.DATA_CHANGED,function(e){if("ref"==e.name)return;var t={};t[e.name]=e.value,this.set(t)},this)},dispose:function(){this._getInput().off("change",$.proxy(this._doClick,this)),this.callParent()},val:function(){if(arguments.length===0)return this.value;this.value=arguments[0],this._getInput().val(this.value).prop("checked",this.checkedValue===undefined?this.value:this.checkedValue==this.value)},_buildInput:function(e){return"<input"+(e.name?" name='"+e.name+"'":"")+" value='"+e.value+"'"+(e.checked?" checked":"")+(e["bind-value"]?" bind-value='"+e["bind-value"]+"'":"")+" type='"+this._type+"'/>"},_buildLabel:function(e){return"<label"+(e["bind-label"]?" bind-label='"+e["bind-label"]+"'":"")+">"+(e.label?e.label:"")+"</label>"},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]=this._defaultClass),"<span"+(e["class"]?" class='"+e["class"]+"'":"")+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+n+"'>"+this._buildInput(e)+this._buildLabel(e)+"</span>"},doInit:function(e,n){var r=this._getLabel(),i=this._getInput(),s=i.attr("id");s||i.attr("id",t.UUID.createUUID()),r.attr("for",i.attr("id")),i.on("change",$.proxy(this._doClick,this));var o=this.$domNode.attr("name");o&&i.attr("name",o);if(e&&!e.hasOwnProperty("ref")){var u={};t.Bind.isObservable(e.value)&&(u.value=e.value.get()),t.Bind.isObservable(e.label)&&(u.label=e.label.get()),this.set(u)}},doUpdate:function(e,t){e&&(e.hasOwnProperty("ref")?(this.updateValue(e.ref),this.updateReadonly(e.ref)):this.updateReadonly(e.value))},_doClick:function(e){var t=this._getInput()[0].checked;this.value=this.checkedValue===undefined?t:t?this.checkedValue:null,this.fireEvent("onChange",{source:this,checked:t,value:this.value}),this.val2ref()},_getInput:function(){return this.$domNode.children("input")},_getLabel:function(){return this.$domNode.children("label")},get:function(e){return"checked"===e?this._getInput().prop("checked"):this.callParent(e)},propertyChangedHandler:function(e,t,n){switch(e){case"label":t!=n&&this.$domNode&&this._getLabel().text(n);break;case"value":t!=n&&this.$domNode&&this.val(n);break;case"checked":t!=n&&this.$domNode&&this._getInput().prop("checked",n);break;case"name":case"disabled":t!=n&&this.$domNode&&this._getInput().attr(e,n);break;default:this.callParent(e,t,n)}}});return t.Component.register(n,i),i}),define("$model/UI2/system/components/justep/button/checkbox.config",["require"],function(e){return{properties:{},events:["onChange"],binds:{"bind-ref":"ref","bind-label":"label","bind-value":"value"}}}),define("$model/UI2/system/components/justep/button/checkbox",["require","$UI/system/lib/justep","./radio","./checkbox.config"],function(e){var t=e("$UI/system/lib/justep"),n=e("./radio"),r=e.normalizeName("./checkbox"),i=e("./checkbox.config"),s=n.extend({_defaultClass:"x-checkbox",_type:"checkbox",getConfig:function(){return i}});return t.Component.register(r,s),s}),define("$model/UI2/system/components/justep/button/toggle.config",["require"],function(e){return{properties:{},events:["onChange"],binds:{"bind-ref":"ref"}}}),define("$model/UI2/system/components/justep/button/toggle",["require","$UI/system/lib/justep","./radio","./toggle.config"],function(e){var t=e("$UI/system/lib/justep"),n=e("./radio"),r=e.normalizeName("./toggle"),i=e("./toggle.config"),s=n.extend({constructor:function(e){this.callParent(e),this.type="checkbox",this._defaultClass="x-toggle"},getConfig:function(){return i},_buildInput:function(e){return"<input  name='"+e.name+"'"+" value='"+e.value+"'"+(e.checked?" checked='checked'":"")+" type='"+e.type+"' class='"+this._defaultClass+"'/>"},_buildLabel:function(e){return"<label data-on='"+(e.label&&e.label.on?e.label.on:"ON")+"'"+"data-off='"+(e.label&&e.label.off?e.label.off:"OFF")+"'"+"'><span/></label>"},propertyChangedHandler:function(e,t,n){switch(e){case"type":t!=n&&this._inited&&this._getInput().attr("type",n);break;case"label":this._inited&&(n||(n={}),n.on||(n.on="ON"),n.off||(n.off="OFF"),this._getLabel().attr("data-on",n.on).attr("data-off",n.off));break;default:this.callParent(e,t,n)}}});return t.Component.register(r,s),s}),define("$model/UI2/system/components/justep/windowContainer/windowContainer.config",["require"],function(e){return{properties:{src:"string",process:"string",activity:"string"},events:["onLoad","onLoadError"],binds:{}}}),define("$model/UI2/system/components/justep/windowContainer/windowContainer",["require","jquery","$UI/system/lib/justep","$UI/system/lib/base/composition","./windowContainer.config"],function(e){var t=e("jquery"),n=e("$UI/system/lib/justep"),r=e("$UI/system/lib/base/composition"),i=e.normalizeName("./windowContainer"),s=e("./windowContainer.config"),o="__inner-model__",u=n.ViewComponent.extend({constructor:function(e){this.__windowContainerInited=!1,this.callParent(e),this.src="",this.process="",this.activity=""},dispose:function(){this.callParent()},getConfig:function(){return s},buildTemplate:function(e){var n=t("<div component='"+i+"' __component-context__='block' />");return e&&(this.src=e.src,this.process=e.process,this.activity=e.activity,e.xid&&n.attr("xid",e.xid)),n},init:function(e,t){this.__windowContainerInited=!0,this.callParent(e,t),this.refresh()},setSrc:function(e){this.set({src:e})},setProcess:function(e){this.set({process:e})},setActivity:function(e){this.set({activity:e})},refresh:function(){if(this.__windowContainerInited){var e=this.get("src");for(var t=this.domNode.childNodes.length-1;t>=0;t--)n.Bind.removeNode(this.domNode.childNodes[t]);if(e){var i={activate:!0};i.model=this._prepareSrc(e),i.preserveContext=!0;var s=this;i.loadError=function(e){var t={source:s,err:e,cancel:!1};return s.fireEvent(u.LOAD_ERROR_EVENT,t),t.cancel},r.compose(this.domNode,i)}}},_prepareSrc:function(e){if(e&&e.indexOf("process=")==-1&&e.indexOf("activity=")==-1){var t=this.get("process"),n=this.get("activity"),r=this.getModel().getContext();(!t||!n)&&r.getProcess&&r.getActivity&&(t=r.getProcess(),n=r.getActivity()),t&&n&&(e+=e.indexOf("?")==-1?"?":"&",e+="process="+t+"&activity="+n)}return e},getInnerModel:function(){return n.Bind.utils.domData.get(this.domNode,o)},loaded:function(){this.fireEvent(u.LOAD_EVENT,{source:this})}});return u.LOAD_EVENT="onLoad",u.LOAD_ERROR_EVENT="onLoadError",n.Component.register(i,u),u}),define("$model/UI2/system/components/justep/contents/contents.config",["require"],function(e){return{properties:{active:"number",slidable:"boolean",swipe:"boolean",wrap:"boolean"},events:["onActiveChange"],binds:{}}}),define("$model/UI2/system/components/justep/contents/content.config",["require"],function(e){return{events:["onActive","onInactive"],binds:{}}}),define("$model/UI2/system/components/justep/contents/content",["require","$UI/system/lib/base/component","$UI/system/lib/base/observable","$UI/system/lib/base/object","$UI/system/lib/justep","$UI/system/lib/base/string","$UI/system/lib/base/viewComponent","jquery","./content.config","$UI/system/components/justep/windowContainer/windowContainer"],function(e){var t=e("$UI/system/lib/base/component"),n=e("$UI/system/lib/base/observable"),r=e("$UI/system/lib/base/object"),i=e("$UI/system/lib/justep"),s=e("$UI/system/lib/base/string"),o=e("$UI/system/lib/base/viewComponent"),u=e("jquery"),a=e.normalizeName("./content"),f=e("./content.config"),l=e("$UI/system/components/justep/windowContainer/windowContainer"),c=o.extend({constructor:function(e){this.xid="",this.callParent(e)},getConfig:function(){return f},buildTemplate:function(e){e.xid=e.xid||"",e.body=e.body||"";var t=s.format("<div component='$model/UI2/system/components/justep/contents/content' class='x-contents-content' xid='{0}'>{1}</div>",e.xid,e.body);return t=u(t),this.owner=e.owner,this.owner.$el.append(t),this.xid=e.xid,this.index=t.index(),t},init:function(e,n){this.owner=t.getComponent(this.$domNode.parent().get(0)),this.owner.contents.push(this),this.xid=this.$domNode.attr("xid"),this.index=this.$domNode.index(),this.callParent(e,n)},get:function(e){if(this[e]!=undefined)return this[e];e="get"+s.camelize(e);if(this.owner[e])return this.owner[e](this.index)},set:function(e,t){this[e]=t;if(typeof e=="object"){var n=e;for(var r in n)n.hasOwnProperty(r)&&this.set(r,n[r])}else e="set"+s.camelize(e),this.owner[e]&&this.owner[e](this.index,t)},onAfterSelect:function(){this.owner.to(this.index)},active:function(){this.owner.to(this.xid)},destroy:function(){this.$domNode.remove(),this.owner=null},dispose:function(){this.owner.remove(this.index)},load:function(e,t){var n=this,r=this.compose=new l({parentNode:this.$domNode.get(0),src:e,onLoad:function(){t&&t(),n.on("onActive",function(){r.getInnerModel()&&r.getInnerModel().fireEvent("onActive")})},onLoadError:function(e){t&&t(e)}})}});return t.register(a,c),c}),define("$model/UI2/system/components/justep/contents/contents",["require","$UI/system/lib/jquery/transition","$UI/system/lib/history/history","$UI/system/lib/base/component","$UI/system/lib/justep","$UI/system/lib/base/string","$UI/system/lib/base/viewComponent","jquery","./content","./contents.config","$UI/system/components/justep/common/res","css!./css/contents"],function(e){e("$UI/system/lib/jquery/transition");var t=e("$UI/system/lib/history/history"),n=e("$UI/system/lib/base/component"),r=e("$UI/system/lib/justep"),i=e("$UI/system/lib/base/string"),s=e("$UI/system/lib/base/viewComponent"),o=e("jquery"),u=e.normalizeName("./contents"),a=e("./content"),f=e("./contents.config");e("$UI/system/components/justep/common/res"),e("css!./css/contents").load();var l="x-contents",c=s.extend({mixins:[t],getConfig:function(){return f},constructor:function(e){this.active=0,this.contents=[],this.wrap=!0,this.swipe=!0,this.slidable=!0,this.callParent(e)},buildTemplate:function(e){e.slidable=e.slidable!==undefined?e.slidable:!0,e.wrap=e.wrap!==undefined?e.wrap:!0,e.swipe=e.swipe!==undefined?e.swipe:!0;var t="";return i.format("<div xid='{0}' class='{1}' component='{2}'>{3}</div>",e.xid,l,u,t)},init:function(e,n){this.callParent(e,n),t.prototype.constructor.apply(this,arguments);var i=this;this.$el=o(this.domNode);var s=this.getModel(),u=[],a=[];o(">.x-contents-content",this.$el).each(function(){u.push(o(this).attr("xid"))}),r.Array.each(u,function(e){a.push(s.componentPromise(e))}),o.when.apply(o,a).done(function(){i.to(i.active),i._inited=!0}),this.on("historyForward",function(e){var t=this.getActiveIndex();return t==-1?!0:this.to(t+1)?!1:!0}),this.on("historyBack",function(e){var t=this.getActiveIndex();return t==-1?!0:location.hash===""?(this.to(0),!1):this.to(t-1)?!1:!0}),this.swipe&&this.supportContentsTouchMove()},canSwipe:function(e){var t=this.swipe;return t&&typeof this.swipe=="string"&&(t=this.swipe==e),t},supportContentsTouchMove:function(){var e=!1,t={},n,r,i,s,u,a,f,l,c,h=this,p=!0,d=30,v=!1,m,g,y;this.$el.on("touchstart",function(r){a=h.$el.width(),r instanceof o.Event&&(r=r.originalEvent),e=!1,n=!1,p=!0,t.x=r.type==="touchstart"?r.targetTouches[0].pageX:r.pageX,t.y=r.type==="touchstart"?r.targetTouches[0].pageY:r.pageY,u=(new Date).getTime(),f=h.$el.find(">.x-contents-content.active"),m=h.getActiveIndex(),g=m-1,y=m+1;var i=h.$el.find(">.x-contents-content");l=o(i[m-1]),c=o(i[m+1]),h.wrap&&i.length>1&&(l.length===0&&(l=i.last(),g=i.length-1),c.length===0&&(c=i.first(),y=0)),v=!1,v=t.x-h.$domNode.offset().left<d,v||(v=h.$domNode.width()-t.x<d)}),this.$el.on("touchmove",function(u){u instanceof o.Event&&(u=u.originalEvent),u.target&&"INPUT"==u.target.tagName&&u.target.getAttribute("type")=="range"&&(n=!0);if(n===!0||v===!0){n===!0&&(u.hasStopedPropagation=!0);return}if(u.hasStopedPropagation===!0)return;var h=u.type==="touchmove"?u.targetTouches[0].pageX:u.pageX,d=u.type==="touchmove"?u.targetTouches[0].pageY:u.pageY;r=Math.abs(h-t.x),i=Math.abs(d-t.y),s=h-t.x;if(p&&r>i){var m=f.find(".x-scroll-h");f.hasClass("x-scroll-h")&&(m=f);if(m.length===0)u.preventDefault(),u.hasStopedPropagation=!0,e=!0,n=!1;else{var g=m.get(0).offsetWidth,y=m.get(0).scrollWidth,b=m.get(0).scrollLeft;if(s>0){if(!(b===0&&g<y)){e=!1,n=!0;return}u.preventDefault(),u.hasStopedPropagation=!0,e=!0,n=!1}else{if(b+g!=y){u.hasStopedPropagation=!0,e=!1,n=!0;return}u.preventDefault(),u.hasStopedPropagation=!0,e=!0,n=!1}}}else{if(p){e=!1,n=!0;return}!p&&!n?(u.preventDefault(),u.hasStopedPropagation=!0):!p&&n&&r>i&&(u.hasStopedPropagation=!0)}var w=s/a,E=w*100+"%",S=(-1+w)*100+"%",x=(1+w)*100+"%";s>0&&l.length>0?(f.transform("translate3d("+E+",0,0)"),f.css("opacity",1-.5*Math.abs(w)),l.addClass("x-content-on-left").removeClass("x-content-on-right"),l.transform("translate3d("+S+",0,0)"),l.css("opacity",.5+.5*Math.abs(w))):s<0&&c.length>0?(f.transform("translate3d("+E+",0,0)"),f.css("opacity",1-.5*Math.abs(w)),c.addClass("x-content-on-right").removeClass("x-content-on-left"),c.transform("translate3d("+x+",0,0)"),c.css("opacity",.5+.5*Math.abs(w))):(E=w*50+"%",f.transform("translate3d("+E+",0,0)"))}),this.$el.on("touchend",function(t){if(n||!e){e=!1,n=!1,f.transform("").css({opacity:"1"}),l.transform("").css({opacity:""}),c.transform("").css({opacity:""});return}e=!1,n=!1,t instanceof o.Event&&(t=t.originalEvent);var r=(new Date).getTime()-u;if(r<300&&Math.abs(s)>10||r>=300&&Math.abs(s)>a/2){var i=Math.abs(s/a*100);if(s>0&&l.length>0){f.transitionEnd(function(){f.transition(0),l.transition(0),f.addClass("x-content-on-right").removeClass("active"),l.addClass("active").removeClass("x-content-on-left"),f.transform(""),l.transform(""),h.contents[g].fireEvent("onActive",{source:h,index:g}),h.getModel().fireEvent("reflow",l.get(0))}),h.fireEvent("onActiveChange",{source:h,to:g,from:m,type:"next"}),h.contents[m].fireEvent("onInactive",{source:h,index:m}),f.transition(i),l.transition(i),l.transform("translate3d(0,0,0)"),l.css("opacity","1"),f.transform("translate3d(100%,0,0)");return}if(s<0&&c.length>0){f.transitionEnd(function(){f.transition(0),c.transition(0),f.addClass("x-content-on-left").removeClass("active"),c.addClass("active").removeClass("x-content-on-right"),f.transform(""),c.transform(""),h.contents[y].fireEvent("onActive",{source:h,index:y}),h.getModel().fireEvent("reflow",c.get(0))}),h.fireEvent("onActiveChange",{source:h,to:y,from:m,type:"next"}),h.contents[m].fireEvent("onInactive",{source:h,index:m}),f.transition(i),c.transition(i),c.transform("translate3d(0,0,0)"),c.css("opacity","1"),f.transform("translate3d(-100%,0,0)");return}}f.transform("").css({opacity:"1"}),l.transform("").css({opacity:""}),c.transform("").css({opacity:""})})},getActiveIndex:function(){return this.$active=this.$el.find(">.x-contents-content.active"),this.$active.length===0?-1:o(">.x-contents-content",this.$el).index(this.$active)},getIndexByXid:function(e){for(var t=0;t<this.contents.length;t++){var n=this.contents[t];if(n.xid==e)return t}return-1},has:function(e){return this.getIndexByXid(e)!=-1},getActiveXid:function(){return this.$active=this.$el.find(">.x-contents-content.active"),this.$active.attr("xid")},to:function(e,t){typeof e=="string"&&(e=this.getIndexByXid(e));var n=this,r=this.getActiveIndex();if(e>o(">.x-contents-content",this.$el).length-1||e<0)return;if(this.sliding)return;if(r==e){this._inited||this.contents[e]&&this.contents[e].fireEvent("onActive",{source:this,index:e}),t&&t();return}return this.slide(e>r?"next":"prev",o(o(">.x-contents-content",this.$el)[e]),t)},next:function(e){if(this.sliding)return;return this.slide("next",null,e)},prev:function(e){if(this.sliding)return;return this.slide("prev",null,e)},slide:function(e,t,n){var r=this.$el.find(">.x-contents-content.active"),i=t||r[e](),s=e=="next"?"left":"right",u=e=="next"?"first":"last",a=this;if(!i.length){if(!this.wrap)return;i=this.$el.find(">.x-contents-content")[u]()}var f=i.parent().children().index(i),l=r.parent().children().index(r);this.sliding=!0;var c=o.Event("slide.container",{relatedTarget:i[0],direction:s});this.fireEvent("onActiveChange",{source:this,to:f,from:l,type:e}),this.contents[f]&&this.contents[f].fireEvent&&this.contents[f].fireEvent("onActive",{source:this,index:f}),l>=0&&this.contents[l]&&this.contents[l].fireEvent&&this.contents[l].fireEvent("onInactive",{source:this,index:l});if(i.hasClass("active"))return;if(l!=-1&&this._inited&&this.slidable&&o.support.transition){this.$el.trigger(c);if(c.isDefaultPrevented())return;s=="right"?(r.animationEnd(function(){i.addClass("active").removeClass("x-left-to-center"),r.addClass("x-content-on-right").removeClass("active x-center-to-right"),a.sliding=!1,a.getModel().fireEvent("reflow",i.get(0)),setTimeout(function(){a.$el.trigger("slide.container"),n&&n()},0)}),i.addClass("x-left-to-center").removeClass("x-content-on-right x-content-on-left"),r.addClass("x-center-to-right")):(r.animationEnd(function(){i.addClass("active").removeClass("x-right-to-center"),r.addClass("x-content-on-left").removeClass("active x-center-to-left"),a.sliding=!1,a.getModel().fireEvent("reflow",i.get(0)),setTimeout(function(){a.$el.trigger("slide.container"),n&&n()},0)}),i.addClass("x-right-to-center").removeClass("x-content-on-right x-content-on-left"),r.addClass("x-center-to-left"))}else{this.$el.trigger(c);if(c.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$el.trigger("slide.container"),n&&n(),this.getModel().fireEvent("reflow",i.get(0))}return this._pushHistory(f),this},_pushHistory:function(e){!r.Browser.IE6&&!r.Browser.IE7&&!r.Browser.IE8&&o(".x-contents").find(this.$domNode).length===0&&this._inited&&this.pushState({from:this.getActiveIndex(),to:e},null,"#page"+e)},add:function(e){return e||(e={}),e.owner=this,e.parentNode=this.$el.get(0),new a(e)},remove:function(e,t){e===undefined&&(e=this.active),typeof e=="string"&&(e=this.getIndexByXid(e)),typeof t=="string"&&(t=this.getIndexByXid(t));var n=this.getLength();if(n>0){var i=this;this.to(t||0,function(){var t=i.contents[e];r.Array.remove(i.contents,t),t.destroy()})}else{var s=this.contents[e];r.Array.remove(this.contents,s),s.destroy(),delete this.active}},removeOther:function(){var e=this.contents[this.active];for(var t in this.contents){if(t==this.active)continue;var n=this.contents[t];n.destroy()}this.contents=[e],this.active=0},getLength:function(){return o(">.x-contents-content",this.$el).length},propertyChangedHandler:function(e,t,n){switch(e){case"slidable":typeof n=="string"&&(n=n=="true"),this.slidable=!!n}},getContent:function(e){for(var t in this.contents)if(this.contents[t].xid==e)return this.contents[t]},loadContent:function(e,t,n){var r=this.getContent(e);r||(r=this.add({xid:e})),r.load(t,n)}});return r.Component.addOperations(c,{to:{label:"",argsDef:[{name:"xid",displayName:"切换的content xid"}],method:function(e){return this.owner.to(e.xid)}},next:{label:"",argsDef:[],method:function(){return this.owner.next()}},prev:{label:"",argsDef:[],method:function(){return this.owner.prev()}}}),n.register(u,c),c}),define("$model/UI2/system/components/justep/controlGroup/controlGroup.config",["require"],function(e){return{properties:{title:"string"},events:[],binds:{}}}),define("$model/UI2/system/components/justep/controlGroup/controlGroup",["require","$UI/system/components/justep/common/res","$UI/system/lib/justep","./controlGroup.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("$UI/system/lib/justep"),n=e.normalizeName("./controlGroup"),r=e("./controlGroup.config"),i=t.BindComponent.extend({getConfig:function(){return r},constructor:function(e){this.title="",this.callParent(e)},dispose:function(){this.callParent()},doInit:function(e,t){this.callParent(e,t),this.title||this._getTitleNode().hide()},propertyChangedHandler:function(e,t,n){switch(e){case"title":if(t!==n){var r=n?"show":"hide",i=this._getTitleNode(),s=i.children("span");s.length>0?s.text(n):i.text(n),i[r]()}break;default:this.callParent(e,t,n)}},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]="x-control-group"),"<div class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+n+"' "+" >"+"<div class='x-control-group-title'><span>"+(e.title?e.title:"")+"</span></div>"+"</div>"},_getTitleNode:function(){return this.$domNode.find("div.x-control-group-title")}});return t.Component.register(n,i),i}),define("$model/UI2/system/components/justep/dialog/dialog.config",["require"],function(e){return{properties:{showTitle:"boolean",title:"string",status:"string",width:"string",height:"string",top:"string",left:"string"},events:["onOpen","onClose"],binds:{}}}),define("$model/UI2/system/components/justep/dialog/dialog",["require","$UI/system/components/justep/common/res","css!./css/dialog","jquery","$UI/system/lib/history/history","$UI/system/lib/justep","./dialog.config"],function(e){e("$UI/system/components/justep/common/res"),e("css!./css/dialog").load();var t=e("jquery"),n=e("$UI/system/lib/history/history"),r=e("$UI/system/lib/justep"),i=e.normalizeName("./dialog"),s=e("./dialog.config"),o=r.BindComponent.extend({mixins:[n],getConfig:function(){return s},constructor:function(e){this.callParent(e),this.showTitle=!1,this.title="",this.status="maximize",this.opened=!1,this.width="80%",this.height="80%",this.top=null,this.left=null},dispose:function(){t(window).off("resize",this.__resizeHandle),this.callParent()},doInit:function(e,r){n.prototype.constructor.apply(this,arguments),this.on("historyForward",function(e){return this.opened?!0:(this.open(),!1)}),this.on("historyBack",function(e){return this.opened?(this.close(),!1):!0}),this.$domNode.find(".x-dialog-title:first > button.close").on("click",t.proxy(this.close,this)),this.__resizeHandle=t.proxy(this.doResize,this),t(window).on("resize",this.__resizeHandle)},doResize:function(){this.opened&&this.render()},buildTemplate:function(e){return e||(e={}),this.set(e),t('<span component="'+i+'">'+'<div class="x-dialog-overlay">'+"</div>"+'<div class="x-dialog" showTitle="'+!!e.showTitle+'">'+'<div class="x-dialog-title">'+'<button type="button" class="close"><span>×</span></button>'+'<h4 class="x-dialog-title-text">'+(e.title?e.title:"")+"</h4>"+"</div>"+'<div class="x-dialog-body">'+(e.content?e.content:"")+"</div>"+"</div>"+"</span>")},propertyChangedHandler:function(e,t,n){switch(e){case"showTitle":this._inited&&this._getDialogNode()[n?"attr":"removeAttr"]("showTitle","true");break;case"title":t!=n&&this._inited&&this._getTitleTextNode().text(n);break;case"status":case"width":case"height":t!=n&&(this.needRender=this._inited);break;default:this.callParent(e,t,n)}},_getDialogNode:function(){return this.$domNode.find("div.x-dialog:first")},_getOverlayNode:function(){return this.$domNode.find("div.x-dialog-overlay:first")},_getTitleTextNode:function(){return this.$domNode.find(".x-dialog-title-text:first")},_getBodyNode:function(){return this.$domNode.find(".x-dialog-body:first")},close:function(){this._getDialogNode().removeClass("x-dialog-in").hide(),this._getOverlayNode().removeClass("x-dialog-overlay-visible"),this.opened=!1,this.fireEvent("onClose",{source:this})},setContent:function(e){this._getBodyNode().html(e)},render:function(){this.callParent();var e=t(window),n={height:e.height(),width:e.width()},r={height:this.height,width:this.width};this._getOverlayNode().css(n);var i=this._getDialogNode();this.status==="maximize"?i.css(n).removeClass("x-dialog-normal"):i.css(r).addClass("x-dialog-normal"),this.opened&&this._setDialogTopLeft()},_setDialogTopLeft:function(){var e=t(window),n=this._getDialogNode(),r=n.outerHeight(),i=e.height(),s=n.outerWidth(),o=e.width(),u=this.top===null?r>=i?10:(i-r)/2:this.top,a=this.left===null?s>=o?0:(o-s)/2:this.left;this.status==="maximize"&&(u=0,a=0),n.css({top:u,left:a})},open:function(){var e=this._getDialogNode();this._getOverlayNode().addClass("x-dialog-overlay-visible"),this.render(),e.show().addClass("x-dialog-in"),this._setDialogTopLeft(),this.pushState({},null,"#dialog"),this.opened=!0,this.fireEvent("onOpen",{source:this})}});return r.Component.register(i,o),o}),define("$model/UI2/system/components/justep/input/js/datePickerPC",["require","jquery","$UI/system/lib/justep","$UI/system/resources/system.res","css!../css/datePickerPC"],function(e){var t=e("jquery"),n=e("$UI/system/lib/justep");e("$UI/system/resources/system.res"),e("css!../css/datePickerPC").load();var r=n.Object.extend({constructor:function(e,r,i,s,o,u,a,f){var l=this;this.element=t("body").append("<ul/>").children().last().addClass(r).get(0),this.move=0,this.input=i,n.Browser.hasTouch&&(this.input.readOnly=!0),this.min=s,this.max=o,this.minlength=u||1,t(i).bind("keypress",function(e){l.hide();if(e.keyCode<48||e.keyCode>57){e.returnValue=!1;return}}).bind("paste",function(e){e.returnValue=!1}).bind("click",function(e){l.show(),i.select()}).bind("change",function(e){var n=parseInt(t(i).val());n<l.min&&t(i).val(l.min),n>l.max&&t(i).val(l.max)}),this.setParam(s,o,u,a,f)},setParam:function(e,n,r,i,s){t(this.element).empty();var o=this;this.min=e,this.max=n,i=i||7,this.canShowAll=this.max-this.min+1<=i,this.canShowAll||this.createChild("-",function(){o.isFocus=!0,o.start(-1)},function(){o.isFocus=!1,o.stop(),t(o.input).focus()}),this.showItem=i,this.canShowAll&&(this.showItem=this.max-this.min+1);var u=function(e){o.isFocus=!0},a=function(e){var n=t(e.target).text(),r=t(o.input).val(n);o.input.readOnly||r.focus(),o.isFocus=!1,o.hide(),t(o.input).change(),s&&s(n)};for(var f=0;f<this.showItem;f++)this.createChild(" ",u,a);this.canShowAll||this.createChild("+",function(){o.isFocus=!0,o.start(1)},function(){o.isFocus=!1,o.stop(),t(o.input).focus()}),this.hide()},hideEvent:function(e){var t=e.target||e.srcElement,n=r.activeObj;n&&t.parentElement!=n.element&&n.hide()},show:function(){var e=this.input;this.current=parseInt(e.value||this.min),this.refresh();var n=t(e),i=t(this.element);i.css({top:-3e3,left:-3e3}).show();var s=n.offset(),o=s.top-i.outerHeight(!0),u=t(document).height()<s.top+n.outerHeight(!0)+i.outerHeight(!0)&&o>0;i.css({top:u?s.top-i.outerHeight(!0):s.top+n.outerHeight(!0),left:s.left}),r.activeObj=this,t("body").bind("mousedown touchstart",this.hideEvent)},hide:function(){t("body").unbind("mousedown touchstart",this.hideEvent),r.activeObj=null,t(this.element).hide()},createChild:function(e,n,i){var s=t(this.element).append("<li/>").children().last().get(0);t(s).text(e),r.initHover(s),i?(t(s).bind("mousedown",n),t(s).bind("mouseup",i)):t(s).bind("click",n)},refresh:function(){var e=t(this.element).children(),n,r,i;if(this.canShowAll){n=this.min;var s=function(e,t){this.element.scrollTop=e.outerHeight()*(t-3)};for(r=0;r<=this.max-this.min;r++){t(e.get(r)).removeClass("hover"),i=n++ +"";for(;i.length<this.minlength;i="0"+i);t(e.get(r)).text(i);if(n==this.current&&r>3){var o=t(e.get(r)),u=r;window.setTimeout(s.bind(this,o,u),10)}}}else{var a=parseInt(this.showItem/2),f=this.current;f>=this.max-a?f=this.max-a:f<=this.min+a&&(f=this.min+a),n=f-a-1;for(r=1;r<this.showItem+1;r++){t(e.get(r)).removeClass("hover"),i=n+r+"";for(;i.length<this.minlength;i="0"+i);t(e.get(r)).text(i)}}},start:function(e){this.move=e,r.current=this,this.run()},stop:function(){this.move=0},run:function(){if(this.move>0&&this.current+3<this.max||this.move<0&&this.current-3>this.min)this.current+=this.move,this.refresh(),setTimeout(function(){r.current.run()},60)}});r.current=null,r.initHover=function(e){t(e).hover(function(e){t(e.srcElement||e.target).addClass("hover")},function(e){t(e.srcElement||e.target).removeClass("hover")})};var i=n.Object.extend({constructor:function(){var e=document.getElementsByTagName("body")[0];this.element=t("table[name='_calendar_']").size()<=0?t(e).append(i.HTML()).children().last().get(0):t("table[name='_calendar_']").get(0),this.modalCover=t("div[name='_modal_cover_']").size()<=0?t(e).append("<div name='_modal_cover_' class='modalCover'/>").children().last().get(0):t("div[name='_modal_cover_']").get(0),t(e).bind("mousedown touchstart",function(e){var t=i.get(),n=t.element;if(n.style.display!="none"){var r=e.srcElement||e.target;if(r.parentElement==t.monthList.element||r.parentElement==t.yearList.element||r.parentElement==t.hourList.element||r.parentElement==t.minList.element||r.parentElement==t.secList.element)return;for(;r&&r!=n;r=r.parentNode);r||i.get().hide()}});var s=function(){var e=i.get(),r=e.inputYear.value,s=e.inputMonth.value-1,o=e.day;r<1900&&(r=1900),r>2099&&(r=2099),s<0&&(s=0),s>11&&(s=11);var u=new Date;u.setDate(1),u.setYear(r),u.setMonth(s),u.setDate(o),e.input.focus&&e.input.focus();if(e.isTimestamp){var a=e.inputHour.value,f=e.inputMin.value,l=e.inputSec.value;a>23&&(a=23),f>59&&(f=59),l>59&&(l=59),u.setMinutes(f),u.setHours(a),u.setSeconds(l),"function"==typeof e.input.val?e.input.val(n.Date.toString(u,n.Date.STANDART_FORMAT)):t(e.input).val(n.Date.toString(u,n.Date.STANDART_FORMAT))}else"function"==typeof e.input.val?e.input.val(n.Date.toString(u,n.Date.STANDART_FORMAT_SHOT)):t(e.input).val(n.Date.toString(u,n.Date.STANDART_FORMAT_SHOT));i.hide()};t(this.element).find("button[name='_calendar_prev_year_']").bind("click",function(){i.get().gotoYear(-1)}),t(this.element).find("button[name='_calendar_prev_month_']").bind("click",function(){i.get().gotoMonth(-1)}),this.inputYear=t(this.element).find("input[name='_calendar_year_']").bind("keyup",function(e){i.get().refresh(),e.keyCode==13&&s()}).bind("change",function(e){i.get().refresh()}).get(0),this.inputMonth=t(this.element).find("input[name='_calendar_month_']").bind("change",function(e){i.get().refresh()}).bind("keyup",function(e){i.get().refresh(),e.keyCode==13&&s()}).get(0),t(this.element).find("button[name='_calendar_next_year_']").bind("click",function(){i.get().gotoYear(1)}),t(this.element).find("button[name='_calendar_next_month_']").bind("click",function(){i.get().gotoMonth(1)});var o=function(e){var r=t(e.target).text(),s=i.get();if(r!==""){s.day=r;if(s.type!=i.ONLY_DATE)s.refresh();else{var o=s.inputYear.value,u=s.inputMonth.value-1,a=s.day,f=new Date;f.setDate(1),f.setYear(o),f.setMonth(u),f.setDate(a),s.input.focus&&s.input.focus(),s.isTimestamp?(f.setSeconds(s.inputSec.value),f.setMinutes(s.inputMin.value),f.setHours(s.inputHour.value),"function"==typeof s.input.val?s.input.val(n.Date.toString(f,n.Date.STANDART_FORMAT)):t(s.input).val(n.Date.toString(f,n.Date.STANDART_FORMAT))):"function"==typeof s.input.val?s.input.val(n.Date.toString(f,n.Date.STANDART_FORMAT_SHOT)):t(s.input).val(n.Date.toString(f,n.Date.STANDART_FORMAT_SHOT)),s.input.blur&&s.input.blur(),i.hide()}}};t(this.element).find(".day").each(function(){t(this).bind("click",o)}),this.inputHour=t(this.element).find("input[name='_calendar_hour_']").bind("keyup",function(e){e.keyCode==13&&s()}).get(0),this.inputMin=t(this.element).find("input[name='_calendar_min_']").bind("keyup",function(e){e.keyCode==13&&s()}).get(0),this.inputSec=t(this.element).find("input[name='_calendar_sec_']").bind("keyup",function(e){e.keyCode==13&&s()}).get(0),t(this.element).find("button[name='_calendar_ok_']").bind("click",function(){s()}),t(this.element).find("button[name='_calendar_cancel_']").bind("click",function(){i.hide()}),t(this.element).find("button[name='_calendar_clear_']").bind("click",function(){var e=i.get();"function"==typeof e.input.val?e.input.val(""):t(e.input).val(""),i.hide()});var u=n.Browser.hasTouch?"x-desktop-datePicker-list x-touch-datePicker-list":"x-desktop-datePicker-list";this.monthList=new r(t(this.inputYear).parent().get(0),u,this.inputMonth,1,12,1,12),this.yearList=new r(t(this.inputYear).parent().get(0),u,this.inputYear,1900,2099,1,n.Browser.hasTouch?200:null),this.hourList=new r(t(this.inputYear).parent().get(0),u,this.inputHour,0,23,2,n.Browser.hasTouch?24:null),this.minList=new r(t(this.inputYear).parent().get(0),u,this.inputMin,0,59,2,n.Browser.hasTouch?60:null),this.secList=new r(t(this.inputYear).parent().get(0),u,this.inputSec,0,59,2,n.Browser.hasTouch?60:null),this.hide()},today:function(){this.refreshControls(new Date)},refreshControls:function(e){this.day=e.getDate(),this.inputMonth.value=e.getMonth()+1,this.inputYear.value=e.getYear()<1e3?1900+e.getYear():e.getYear(),this.isTimestamp&&(this.inputHour.value=n.String.zeros(e.getHours(),2),this.inputMin.value=this.type>=i.MINUTES?n.String.zeros(e.getMinutes(),2):"00",this.inputSec.value=this.type>=i.SECONDS?n.String.zeros(e.getSeconds(),2):"00"),this.refresh()},hide:function(){this.monthList.hide(),this.yearList.hide(),this.hourList.hide(),this.minList.hide(),this.secList.hide(),t(this.element).hide(),t(this.modalCover).hide()},getFirstDay:function(){var e=this.inputYear.value,t=this.inputMonth.value-1;e<1900&&(e=1900),e>2099&&(e=2099),t<0&&(t=0),t>11&&(t=11);var n=new Date;return n.setDate(1),n.setMonth(t),n.setYear(e),n.getDay()},getDaysOfMonth:function(){var e=this.inputYear.value,t=this.inputMonth.value-1;return e<1900&&(e=1900),e>2099&&(e=2099),t<0&&(t=0),t>11&&(t=11),t!=1||0!==e%4||0===e%100&&0!==e%400?i.daysOfMoth[t]:29},refresh:function(){var e=new Date;this.currentDay=e.getDate(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear();var n=this.getFirstDay(),i=this.getDaysOfMonth(),s=0,o=1,u=this.inputMonth.value-1==this.currentMonth&&this.inputYear.value==this.currentYear,a=this;t(this.element).children("tbody").children().each(function(){var e=this,f=!1;for(var l=0;l<7;l++,s++){var c=t(e.childNodes[l]);c.removeClass("hover"),u&&o==a.currentDay?c.addClass("today"):c.removeClass("today"),l===6||l===0?c.addClass("weekend"):c.removeClass("weekend");var h="";s>=n&&s<n+i?(f=!0,h=o++,r.initHover(c.get(0))):c.unbind("mouseout mouseover"),c.text(h+""),h==a.day&&!isNaN(parseInt(h))?c.addClass("selected"):c.removeClass("selected")}e.style.display=f?"":"none"})},gotoYear:function(e){var t=parseInt(this.inputYear.value)+e;t<1900&&(t=1900),t>2099&&(t=2099),this.inputYear.value=t,this.refresh()},gotoMonth:function(e){var t=parseInt(this.inputMonth.value)+e;if(t<1||t>12){var n=parseInt(this.inputYear.value)+e;n>=1900?(t=e<0?12:1,this.inputYear.value=n):t=e<0?1:12}this.inputMonth.value=t,this.refresh()}});return i.HTML=function(){return'<table name="_calendar_" class="x-desktop-datePicker '+(n.Browser.hasTouch?"x-datePicker-touch":"")+'" cellpadding="0" cellspacing="0">'+'<thead><tr valign="middle"><td class="title" colspan="7" align="center"><button name="_calendar_prev_year_" class="prev-year"/><button name="_calendar_prev_month_" class="prev-month"/><input name="_calendar_year_" class=" x-desktop-datePicker-input x-desktop-datePicker-year" maxlength="4" /><input class=" x-desktop-datePicker-input x-desktop-datePicker-" readonly="" value="-" /><input name="_calendar_month_" class=" x-desktop-datePicker-input x-desktop-datePicker-month" maxlength="2" /><button name="_calendar_next_month_" class="next-month"/><button name="_calendar_next_year_" class="next-year"/></td></tr><tr class="names"><td class="name">'+(new n.Message(n.Message.JUSTEP231509)).getMessage()+'</td><td class="name">'+(new n.Message(n.Message.JUSTEP231510)).getMessage()+'</td><td class="name">'+(new n.Message(n.Message.JUSTEP231511)).getMessage()+'</td><td class="name">'+(new n.Message(n.Message.JUSTEP231512)).getMessage()+'</td><td class="name">'+(new n.Message(n.Message.JUSTEP231513)).getMessage()+'</td><td class="name">'+(new n.Message(n.Message.JUSTEP231514)).getMessage()+'</td><td class="name">'+(new n.Message(n.Message.JUSTEP231515)).getMessage()+"</td></tr></thead>"+'<tbody><tr><td class="day weekend"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day weekend">1</td></tr><tr><td class="day weekend">2</td><td class="day">3</td><td class="day">4</td><td class="day">5</td><td class="day">6</td><td class="day">7</td><td class="day weekend">8</td></tr><tr><td class="day weekend">9</td><td class="day">10</td><td class="day selected">11</td><td class="day">12</td><td class="day">13</td><td class="day">14</td><td class="day weekend">15</td></tr><tr><td class="day weekend">16</td><td class="day">17</td><td class="day today">18</td><td class="day">19</td><td class="day">20</td><td class="day">21</td><td class="day weekend">22</td></tr><tr><td class="day weekend">23</td><td class="day">24</td><td class="day">25</td><td class="day">26</td><td class="day">27</td><td class="day">28</td><td class="day weekend">29</td></tr><tr><td class="day weekend   ">30</td><td class="day">31</td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day weekend"></td></tr></tbody>'+'<tfoot><tr><td colspan="7"><input name="_calendar_hour_" maxlength="2" class=" x-desktop-datePicker-input"/>:<input name="_calendar_min_" class=" x-desktop-datePicker-input" maxlength="2"/>:<input name="_calendar_sec_" class=" x-desktop-datePicker-input" maxlength="2"/></td></tr><tr><td colspan="7"><button name="_calendar_ok_" class=" x-desktop-datePicker-button">'+(new n.Message(n.Message.JUSTEP231500)).getMessage()+'</button><button name="_calendar_cancel_" class=" x-desktop-datePicker-button">'+(new n.Message(n.Message.JUSTEP231501)).getMessage()+'</button><button name="_calendar_clear_" class=" x-desktop-datePicker-button">'+(new n.Message(n.Message.JUSTEP231508)).getMessage()+"</button></td></tr></tfoot>"+"</table>"},i.get=function(){return i.instance||(i.instance=new i),i.instance},i.daysOfMoth=[31,28,31,30,31,30,31,31,30,31,30,31],i.ONLY_DATE=0,i.HOURS=1,i.MINUTES=2,i.SECONDS=3,i.show=function(e,r,s){var o=i.get();r||(r=i.ONLY_DATE),s=!!s,o.yearList.element.onclick=o.monthList.element.onclick=o.hourList.element.onclick=o.minList.element.onclick=o.secList.element.onclick=o.element.onclick=function(e){(e||event).cancelBubble=s},o.input=e,o.type=r,o.isTimestamp=r!=i.ONLY_DATE,o.isTimestamp?t(o.element).find("tfoot tr:first-child").show():t(o.element).find("tfoot tr:first-child").hide();var u;try{var a="function"==typeof e.val?e.val():t(e).val();u=o.isTimestamp?n.Date.fromString(a,"yyyy-MM-ddThh:mm:ss"):n.Date.fromString(a,n.Date.STANDART_FORMAT_SHOT)}catch(f){u=new Date}u?o.refreshControls(u):o.today();var l=t(e.domNode?e.domNode:e),f=t(o.element);f.css({top:-3e3,left:-3e3}).show();var c=l.offset(),h=c.top-f.outerHeight(!0),p=t(document).height()<c.top+l.outerHeight(!0)+f.outerHeight(!0)&&h>0,d=p?h:c.top+l.outerHeight(!0);d<0&&(d=0);var v=l.offset().left;v<0&&(v=0);var m=t(document).width(),g=f.outerHeight(!0);m<v+g&&(v-=v+g-m),v<0&&(v=0),f.css({top:d,left:v})},i.hide=function(){i.get().hide()},i}),define("$model/UI2/system/components/justep/input/js/datePicker",["require","jquery","$UI/system/lib/justep","$UI/system/resources/system.res","css!../css/datePicker"],function(e){function r(e,r,i){var f=this,l,c,h,p=!1;this.settings=i,this.values=null,this.val=null,this.temp=null,this.setDefaults=function(e){t.extend(S,e)},this.formatDate=function(e,t,r){return t?n.Date.toString(t,e):null},this.parseDate=function(e,t,r){var i=new Date;return!e||!t?i:n.Date.fromString(t,e)},this.setValue=function(n){n===undefined&&(n=!0);var r=this.formatResult();this.val=r,this.values=this.temp.slice(0),n&&t(e).is("input")&&t(e).val(r).change()},this.getDate=function(){var e=this.values,t=this.settings,n;if(t.preset=="date")return new Date(e[l],e[c],e[h]);if(t.preset=="time")return n=t.ampm&&e[t.seconds?3:2]=="PM"&&e[0]-0<12?e[0]-0+12:e[0],new Date(1970,0,1,n,e[1],t.seconds?e[2]:null);if(t.preset=="datetime")return n=t.ampm&&e[t.seconds?6:5]=="PM"&&e[3]-0<12?e[3]-0+12:e[3],new Date(e[l],e[c],e[h],n,e[4],t.seconds?e[5]:null)},this.setDate=function(e,t){var n=this.settings,r;n.preset.match(/date/i)&&(this.temp[l]=e.getFullYear(),this.temp[c]=e.getMonth(),this.temp[h]=e.getDate()),n.preset=="time"&&(r=e.getHours(),this.temp[0]=n.ampm?r>12?r-12:r===0?12:r:r,this.temp[1]=e.getMinutes(),n.seconds&&(this.temp[2]=e.getSeconds()),n.ampm&&(this.temp[n.seconds?3:2]=r>11?"PM":"AM")),n.preset=="datetime"&&(r=e.getHours(),this.temp[3]=n.ampm?r>12?r-12:r===0?12:r:r,this.temp[4]=e.getMinutes(),n.seconds&&(this.temp[2]=e.getSeconds()),n.ampm&&(this.temp[n.seconds?6:5]=r>11?"PM":"AM")),this.setValue(t)},this.parseValue=function(e){var t=this.settings;if(this.preset){var r=[],i,s;if(t.preset=="date"){try{i=this.parseDate(t.dateFormat,e,t)}catch(o){i=new Date}r[l]=i.getFullYear(),r[c]=i.getMonth(),r[h]=i.getDate()}else if(t.preset=="time"){try{i=this.parseDate(t.timeFormat,e,t)}catch(o){i=new Date}s=i.getHours(),r[0]=t.ampm?s>12?s-12:s===0?12:s:s,r[1]=i.getMinutes(),t.seconds&&(r[2]=i.getSeconds()),t.ampm&&(r[t.seconds?3:2]=s>11?"PM":"AM")}else if(t.preset=="datetime"){try{i=this.parseDate(n.Date.STANDART_FORMAT,e,t)}catch(o){i=new Date}s=i.getHours(),r[l]=i.getFullYear(),r[c]=i.getMonth(),r[h]=i.getDate(),r[3]=t.ampm?s>12?s-12:s===0?12:s:s,r[4]=i.getMinutes(),t.seconds&&(r[5]=i.getSeconds()),t.ampm&&(r[t.seconds?6:5]=s>11?"PM":"AM")}return r}return t.parseValue(e)},this.formatResult=function(){var e=this.settings,t=this.temp,n;if(this.preset){if(e.preset=="date")return this.formatDate(e.format,new Date(t[l],t[c],t[h]),e);if(e.preset=="datetime")return n=e.ampm?t[e.seconds?6:5]=="PM"&&t[3]-0<12?t[3]-0+12:t[e.seconds?6:5]=="AM"&&t[3]==12?0:t[3]:t[3],this.formatDate(e.format,new Date(t[l],t[c],t[h],n,t[4],e.seconds?t[5]:null),e);if(e.preset=="time")return n=e.ampm?t[e.seconds?3:2]=="PM"&&t[0]-0<12?t[0]-0+12:t[e.seconds?3:2]=="AM"&&t[0]==12?0:t[0]:t[0],this.formatDate(e.format,new Date(1970,0,1,n,t[1],e.seconds?t[2]:null),e)}return e.formatResult(t)},this.formatDisplayResult=function(){var e=this.settings,t=this.temp,n;if(this.preset){if(e.preset=="date")return this.formatDate(e.dispalyFormat,new Date(t[l],t[c],t[h]),e);if(e.preset=="datetime")return n=e.ampm?t[e.seconds?6:5]=="PM"&&t[3]-0<12?t[3]-0+12:t[e.seconds?6:5]=="AM"&&t[3]==12?0:t[3]:t[3],this.formatDate(e.dispalyFormat,new Date(t[l],t[c],t[h],n,t[4],e.seconds?t[5]:null),e);if(e.preset=="time")return n=e.ampm?t[e.seconds?3:2]=="PM"&&t[0]-0<12?t[0]-0+12:t[e.seconds?3:2]=="AM"&&t[0]==12?0:t[0]:t[0],this.formatDate(e.dispalyFormat,new Date(1970,0,1,n,t[1],e.seconds?t[2]:null),e)}return e.formatResult(t)},this._validate=function(){var e=this.settings;if(e.startDate||e.endDate){var t=e.startDate?e.startDate.getFullYear():0,n=e.startDate?e.startDate.getMonth():0,i=e.startDate?e.startDate.getDate():1,s=e.endDate?e.endDate.getFullYear():0,o=e.endDate?e.endDate.getMonth():11,u=e.endDate?e.endDate.getDate():31;t==this.temp[l]||s==this.temp[l]?(this._caclRange(r,c,t==this.temp[l]?n:0,s==this.temp[l]?o:11,e.fx),n==this.temp[c]||o==this.temp[c]?this._caclRange(r,h,n==this.temp[c]?i:1,o==this.temp[c]?u:31,e.fx,!0):this._caclRange(r,h,1,31,e.fx,!0)):(this._caclRange(r,c,0,11,e.fx),this._caclRange(r,h,1,31,e.fx,!0))}},this._caclRange=function(e,n,r,i,s,o){var u=t("ul:eq("+n+")",e);t("li",u).show(),t("li:lt("+(r-(o?1:0))+")",u).hide(),t("li:gt("+(i-(o?1:0))+")",u).hide(),this.temp[n]<r?(this.temp[n]=r,this._caclPos(u,this.temp[n]-r,s)):r>=0&&this.temp[n]>=r&&this._caclPos(u,this.temp[n]-r,s),this.temp[n]>i?(this.temp[n]=i,this._caclPos(u,this.temp[n]-r,s)):this.temp[n]<=i&&this._caclPos(u,this.temp[n]-r,s)},this._caclPos=function(e,t,n){n?e.animate({top:o*(u-t-1)+"px"},"fast"):e.css({top:o*(u-t-1)})},this.validate=function(e){var n=this.settings;if(this.preset&&n.preset.match(/date/i)&&(e==l||e==c)){var i=32-(new Date(this.temp[l],this.temp[c],32)).getDate()-1,s=t("ul:eq("+h+")",r);t("li",s).show(),t("li:gt("+i+")",s).hide(),this.temp[h]>i&&(this._caclPos(s,i,n.fx),this.temp[h]=t("li:visible:eq("+i+")",s).data("val"))}else x.validate(e);this._validate()},this.hide=function(){n.Util.enableTouchMove(document.body),this.settings.onClose(this.val,this),t(e).blur(),r.hide(),s.hide(),p=!1,this.preset&&(this.settings.wheels=null),t(window).unbind("resize.dw")},this.show=function(){n.Util.disableTouchMove(document.body);var i,d=this.settings;d.beforeShow(e,this),o=d.height,u=Math.round(d.rows/2),a=this,this.init();if(this.values!==null)this.temp=this.values.slice(0);else{var v=n.Component.getComponent(e),m=v.val?v.val():"",g=n.Date.fromString(m,n.Date.STANDART_FORMAT_SHOT);d.startDate&&d.startDate>g&&(m=n.Date.toString(d.startDate,n.Date.STANDART_FORMAT_SHOT)),d.endDate&&d.endDate<g&&(m=n.Date.toString(d.endDate,n.Date.STANDART_FORMAT_SHOT)),this.temp=this.parseValue(m),this.setValue(!1)}var y=parseInt(this.temp[0],10);d.startYear=d.startDate?d.startDate.getFullYear():y-20,d.endYear=d.endDate?d.endDate.getFullYear():y+20;if(this.preset){d.wheels=[];var b={};if(d.preset.match(/date/i)){for(var w=0;w<3;w++)if(w==l){b[d.yearText]={};for(i=d.startYear;i<=d.endYear;i++)b[d.yearText][i]=d.dateOrder.search(/yy/i)<0?i.toString().substr(2,2):i.toString()}else if(w==c){b[d.monthText]={};for(i=0;i<12;i++)b[d.monthText][i]=d.dateOrder.search(/MM/)<0?d.dateOrder.search(/M/)<0?d.dateOrder.search(/mm/)<0?i+1:i<9?"0"+(i+1):i+1:d.monthNamesShort[i]:d.monthNames[i]}else if(w==h){b[d.dayText]={};for(i=1;i<32;i++)b[d.dayText][i]=d.dateOrder.search(/dd/i)<0?i:i<10?"0"+i:i}d.wheels.push(b)}if(d.preset.match(/time/i)){d.stepHour=d.stepHour<1?1:parseInt(d.stepHour,10),d.stepMinute=d.stepMinute<1?1:parseInt(d.stepMinute,10),d.stepSecond=d.stepSecond<1?1:parseInt(d.stepSecond,10),b={},b[d.hourText]={};for(i=0;i<(d.ampm?13:24);i+=d.stepHour)b[d.hourText][i]=i<10?"0"+i:i;b[d.minuteText]={};for(i=0;i<60;i+=d.stepMinute)b[d.minuteText][i]=i<10?"0"+i:i;if(d.seconds){b[d.secText]={};for(i=0;i<60;i+=d.stepSecond)b[d.secText][i]=i<10?"0"+i:i}d.ampm&&(b[d.ampmText]={},b[d.ampmText].AM="AM",b[d.ampmText].PM="PM"),d.wheels.push(b)}}t(".dwc",r).remove();for(i=0;i<d.wheels.length;i++){var S=t('<div class="dwc '+(d.showLabel?"showl":"")+'"><div class="dwwc"><div class="clear" style="clear:both;"></div></div>').insertBefore(t(".dwbc",r));for(var x in d.wheels[i]){var T=t(".dwwc .clear",S),N=t('<div class="dwwl">'+(d.showLabel?'<div class="dwl">'+x+"</div>":"")+'<div class="dww"><ul></ul><div class="dwwo"></div></div><div class="dwwol"></div></div>').insertBefore(T);for(var C in d.wheels[i][x])t('<li class="val_'+C+'">'+d.wheels[i][x][C]+"</li>").data("val",C).appendTo(t("ul",N))}}t(".dww ul",r).each(function(e){var n=t("li",this).index(t("li.val_"+f.temp[e],this));while(n<0&&--f.temp[e]>=0)n=t("li",this).index(t("li.val_"+f.temp[e],this));var r=o*(u-(n<0?0:n)-1);t(this).css("top",r)}),t(".dwv",r).html(this.formatDisplayResult()),t("#dw_set",r).addClass(d.btnClass+" btn-default").text(d.setText).unbind().bind("click",function(e){return f.setValue(),d.onSelect(f.val,a),f.hide(),E=!0,setTimeout(function(){E=!1},300),!1}),t("#dw_cls",r).addClass(d.btnClass+" btn-default").text(d.clsText).unbind().bind("click",function(n){return t(e).val("").change(),f.values=null,d.onSelect(f.val,a),f.hide(),E=!0,setTimeout(function(){E=!1},300),!1}),t("#dw_cancel",r).addClass(d.btnClass+" btn-default").text(d.cancelText).unbind().bind("click",function(e){return f.hide(),E=!0,setTimeout(function(){E=!1},300),!1}),this._validate(),s.show(),r.attr("class","dw "+d.theme).show(),p=!0,t(".dww, .dwwl",r).height(d.rows*o),t(".dww",r).each(function(){t(this).width(t(this).parent().width()<d.width?d.width:t(this).parent().width())}),t(".dww li",r).css({height:o,lineHeight:o+"px"}),t(".dwwc",r).each(function(){var e=0;t(".dwwl",this).each(function(){e+=t(this).outerWidth(!0)}),t(this).width(e)}),t(".dwc",r).each(function(){t(this).width(t(".dwwc",this).outerWidth(!0))}),this.pos(),t(window).bind("resize.dw",function(){f.pos()})},this.pos=function(){var e=0,n=0,i=t(window).width(),o=t(window).height(),u=t(window).scrollTop(),a,f;t(".dwc",r).each(function(){a=t(this).outerWidth(!0),e+=a,n=a>n?a:n}),a=e>i?n:e,r.width(a),a=r.outerWidth(),f=r.outerHeight(),r.css({left:(i-a)/2,top:u+(o-f)/2}),s.height(0),s.height(t(document).height())},this.init=function(){var e=this.settings,t=e.dateOrder.search(/y/i),n=e.dateOrder.search(/m/i),r=e.dateOrder.search(/d/i);l=t<n?t<r?0:1:t<r?1:2,c=n<t?n<r?0:1:n<r?1:2,h=r<t?r<n?0:1:r<n?1:2,this.preset=e.wheels===null},this.init(),t(e).is("input")?t(e).attr("readonly","readonly").data("readonly",t(e).attr("readonly")):!1,t(e).addClass("scroller").off("click.dw").bind("click.dw",function(n){if(E)return t(e).blur(),setTimeout(function(){t(e).removeClass("ui-focus")},50),!1;!f.settings.disabled&&f.settings.showOnFocus&&!p&&f.show()})}var t=e("jquery"),n=e("$UI/system/lib/justep");e("$UI/system/resources/system.res"),e("css!../css/datePicker").load();var i,s,o,u,a,f={},l=new Date,c=l.getTime(),h=!1,p=null,d,v,m,g="ontouchstart"in window,y=g?"touchstart":"mousedown",b=g?"touchmove":"mousemove",w=g?"touchend":"mouseup",E=!1,S={width:80,height:40,rows:3,fx:!1,disabled:!1,showOnFocus:!0,showOnTap:!0,wheels:null,theme:"",preset:"date",dateFormat:"yyyy-MM-dd",dateOrder:"yyyymmdd",ampm:!0,seconds:!1,timeFormat:"hh:mm:ss",startDate:null,endDate:null,startYear:l.getFullYear()-10,endYear:l.getFullYear()+10,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],shortYearCutoff:"+10",showLabel:!1,monthText:(new n.Message(n.Message.JUSTEP231502)).getMessage(),dayText:(new n.Message(n.Message.JUSTEP231503)).getMessage(),yearText:(new n.Message(n.Message.JUSTEP231504)).getMessage(),hourText:(new n.Message(n.Message.JUSTEP231505)).getMessage(),minuteText:(new n.Message(n.Message.JUSTEP231506)).getMessage(),secText:(new n.Message(n.Message.JUSTEP231507)).getMessage(),ampmText:"&nbsp;",setText:(new n.Message(n.Message.JUSTEP231500)).getMessage(),clsText:(new n.Message(n.Message.JUSTEP231508)).getMessage(),cancelText:(new n.Message(n.Message.JUSTEP231501)).getMessage(),btnClass:"btn btn-sm",stepHour:1,stepMinute:1,stepSecond:1,beforeShow:function(){},onClose:function(){},onSelect:function(){},formatResult:function(e){var t="";for(var n=0;n<e.length;n++)t+=(n>0?" ":"")+e[n];return t},parseValue:function(e){return e.split(" ")}},x={init:function(e){var n=t.extend({},S,e);if(t(".dwo").length)s=t(".dwo"),i=t(".dw");else{s=t('<div class="dwo"></div>').hide().appendTo("body"),i=t('<div class="dw"><div class="dwv">&nbsp;</div><div class="dwbc" style="clear:both;"><a id="dw_set" href="#"></a><a id="dw_cls" href="#"></a><a id="dw_cancel" href="#"></a></div></div>'),i.hide().appendTo("body"),t(document).bind(b,function(e){if(h)return v=g?e.originalEvent.changedTouches[0].pageY:e.pageY,p.css("top",m+v-d+"px"),e.preventDefault(),e.stopPropagation(),!1});var l=function(e,n){n=n>(u-1)*o?(u-1)*o:n,n=n<u*o-t("li:visible",e).length*o?u*o-t("li:visible",e).length*o:n,a.settings.fx?e.stop(!0,!0).animate({top:n+"px"},"fast"):e.css("top",n);var r=t("ul",i).index(e);a.temp[r]=t("li:visible:eq("+(u-1-n/o)+")",e).data("val"),a.validate(r),t(".dwv",i).html(a.formatDisplayResult())};t(document).bind(w,function(e){if(h){var n=Math.round((m+v-d)/o)*o;n=n>(u-1)*o?(u-1)*o:n,n=n<u*o-t("li:visible",p).length*o?u*o-t("li:visible",p).length*o:n,l(p,n),h=!1,p=null,e.preventDefault(),e.stopPropagation()}}),t(document).on(y,".dwwl",function(e){h||(h=!0,p=t("ul",this),m=p.css("top").replace(/px/i,"")-0,d=g?e.originalEvent.changedTouches[0].pageY:e.pageY,v=d,e.preventDefault(),e.stopPropagation())})}return this.each(function(){this.id||(c+=1,this.id="scoller"+c),f[this.id]=new r(this,i,n)})},validate:function(){},enable:function(){return this.each(function(){f[this.id]&&(f[this.id].settings.disabled=!1)})},disable:function(){return this.each(function(){f[this.id]&&(f[this.id].settings.disabled=!0)})},isDisabled:function(){if(f[this[0].id])return f[this[0].id].settings.disabled},option:function(e,n){return this.each(function(){f[this.id]&&(typeof e=="object"?t.extend(f[this.id].settings,e):f[this.id].settings[e]=n,f[this.id].init())})},setValue:function(e,t){return t===undefined&&(t=!1),this.each(function(){f[this.id]&&(f[this.id].temp=e,f[this.id].setValue(e,t))})},getValue:function(){if(f[this[0].id])return f[this[0].id].values},setDate:function(e,t){return t===undefined&&(t=!1),this.each(function(){f[this.id]&&f[this.id].setDate(e,t)})},getDate:function(){if(f[this[0].id])return f[this[0].id].getDate()},show:function(){if(f[this[0].id])return f[this[0].id].show()},hide:function(){return this.each(function(){f[this.id]&&f[this.id].hide()})},destroy:function(){return this.each(function(){f[this.id]&&(t(this).unbind("focus.dw").removeClass("scroller"),t(this).is("input")?t(this).attr("readonly",t(this).data("readonly")):!1,delete f[this.id])})}};t.fn.datePicker=function(e){if(x[e])return x[e].apply(this,Array.prototype.slice.call(arguments,1));if(typeof e=="object"||!e)return x.init.apply(this,arguments);t.error("Unknown method")},t.datePicker=new r(null,null,S)}),define("$model/UI2/system/components/justep/input/input.config",["require"],function(e){return{properties:{dataType:"string",placeHolder:"string",pattern:"string",format:"string",min:"string",max:"string",autoFocus:"boolean",autoComplete:"boolean",disabled:"boolean"},events:["onChange","onRender"],binds:{"bind-ref":"ref"}}}),define("$model/UI2/system/components/justep/input/input",["require","$UI/system/components/justep/common/res","jquery","$UI/system/lib/justep","./js/datePickerPC","./js/datePicker","./input.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("jquery"),n=e("$UI/system/lib/justep"),r=e("./js/datePickerPC");e("./js/datePicker");var i=e.normalizeName("./input"),s=e("./input.config"),o=n.BindComponent.extend({getConfig:function(){return s},constructor:function(e){this.callParent(e),this.disabled=!1,this.readonly=!1,this.placeHolder="",this.value="",this.format="",this.pattern="",this.autoFocus=!1,this.autoComplete=!1,this.min=null,this.max=null,this.minLength=1,this.maxLength=null,this.dataType="String"},dispose:function(){this.$domNode.off("change").off("focus").off("blur"),this.callParent()},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]="form-control"),"<input class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+i+"' "+" ></input>"},_doDataTypeChange:function(){if(n.Bind.isObservable(this.ref)&&this.ref.define){var e=this.ref.define.defCol.type;e!==this.dataType&&this.set({dataType:e})}},_bindDataType:function(){if(this.dataType=="DateTime"||this.dataType=="Date"||this.dataType=="Time"){this.format||("DateTime"==this.dataType?this.format="yyyy-MM-dd hh:mm:ss":"Date"==this.dataType?this.format="yyyy-MM-dd":"Time"==this.dataType&&(this.format="hh:mm:ss"));var e=this,t=this.dataType.toLowerCase(),i=n.Date.STANDART_FORMAT;t=="date"?i=n.Date.STANDART_FORMAT_SHOT:t=="time"&&(i="hh:mm:ss"),this.$domNode.addClass(t).attr("readonly",!0);if(n.Browser.isMobile)this.$domNode.datePicker({preset:t,seconds:!0,ampm:!1,format:i,dispalyFormat:this.format,beforeShow:function(t,n){e.min&&(n.settings.startDate=e._doCalcDateExpr(e.min)),e.max&&(n.settings.endDate=e._doCalcDateExpr(e.max))}});else{var s=this;this.$domNode.on("click",function(){r.show(s,t==="date"?0:3,!0)})}}else this.dataType&&this.$domNode.addClass(this.dataType.toLowerCase())},_unbindDataType:function(e){this.$domNode&&(this.$domNode.removeClass(e),e!="DateTime"&&e!="Date"&&e!="Time"&&this.$domNode.datePicker("destroy"))},_doCalcDateExpr:function(e){var t=this._doCalcExpr(e);n.Bind.isObservable(t)&&(t=t.get());if(t instanceof Date)return t;if("string"==typeof t)return n.Date.fromString(t,n.Date.STANDART_FORMAT_SHOT);var r=new n.Message(n.Message.JUSTEP231090);throw n.Error.create(r)},_doCalcExpr:function(e){this._expr=this._expr||{},this._expr[e]||(this._expr[e]=new n.Express(e));var t=n.Bind.contextFor(this.domNode);return n.Express.eval(this._expr[e],t.$object,t)},doInit:function(e,n){var r=this;this.$domNode.on("change",t.proxy(this.doChange,this)).on("focus",function(){r.$domNode.prop("readonly")||r.$domNode.val(r.value)}).on("blur",function(){r.render()}),this._bindDataType()},doUpdate:function(e,t,n){this._doDataTypeChange(),this.callParent(e,t,n)},propertyChangedHandler:function(e,t,n){switch(e){case"format":this.format||("DateTime"==this.dataType?this.format="yyyy-MM-dd hh:mm:ss":"Date"==this.dataType?this.format="yyyy-MM-dd":"Time"==this.dataType&&(this.format="hh:mm:ss")),t!=n&&(this.needRender=this._inited);break;case"value":t!=n&&this._inited&&(this.fireEvent("onChange",{source:this,originalValue:t,value:n}),this.val2ref()),this.needRender=this._inited;break;case"dataType":t!=n&&(this.needRender=this._inited,this._dataTypeChanged=!0,this._unbindDataType(t));break;default:this.callParent(e,t,n)}},render:function(){this.callParent(),this._dataTypeChanged&&(this._bindDataType(),this._dataTypeChanged=!1);var e=this.value,t;e&&("DateTime"==this.dataType?(t=e instanceof Date?e:n.Date.fromString(e,n.Date.STANDART_FORMAT),e=n.Date.toString(t,this.format)):"Date"==this.dataType?(t=e instanceof Date?e:n.Date.fromString(e,n.Date.STANDART_FORMAT_SHOT),e=n.Date.toString(t,this.format)):"Time"==this.dataType&&(t=e instanceof Date?e:n.Date.fromString(e,"hh:mm:ss"),e=n.Date.toString(t,this.format)));if(e===undefined||e===null)e="";var r={source:this,value:this.value,text:e};this.fireEvent("onRender",r),this.$domNode.val(r.text)},val:function(e){if(arguments.length===0)return this.value;this.set({value:e})},doChange:function(e){this.set({value:this.$domNode.val()})},clear:function(){this.set({value:null})}});return n.Component.register(i,o),o}),define("$model/UI2/system/components/justep/input/password.config",["require"],function(e){return{properties:{data:"string",relation:"string",placeHolder:"string",disabled:"boolean"},events:["onChange"],binds:{"bind-ref":"ref"}}}),define("$model/UI2/system/components/justep/input/password",["require","$UI/system/lib/justep","./input","./password.config"],function(e){var t=e("$UI/system/lib/justep"),n=e("./input"),r=e.normalizeName("./password"),i=e("./password.config"),s=n.extend({getConfig:function(){return i},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]="form-control"),"<input class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+r+"' type='password'"+" ></input>"}});return t.Component.register(r,s),s}),define("$model/UI2/system/components/justep/input/range.config",["require"],function(e){return{properties:{data:"string",relation:"string",min:"number",max:"number",disabled:"boolean"},events:["onChange","onRender"],binds:{"bind-ref":"ref"}}}),define("$model/UI2/system/components/justep/input/range",["require","$UI/system/lib/justep","./input","./range.config"],function(e){var t=e("$UI/system/lib/justep"),n=e("./input"),r=e.normalizeName("./range"),i=e("./range.config"),s=n.extend({constructor:function(e){this.callParent(e),this.min=0,this.max=100},getConfig:function(){return i},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]=""),"<input class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+r+"' type='range'"+" ></input>"}});return t.Component.register(r,s),s}),define("$model/UI2/system/components/justep/labelEdit/labelEdit.config",["require"],function(e){return{properties:{},events:[],binds:{}}}),define("$model/UI2/system/components/justep/labelEdit/labelEdit",["require","$UI/system/components/justep/common/res","$UI/system/lib/justep","./labelEdit.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("$UI/system/lib/justep"),n=e.normalizeName("./labelEdit"),r=e("./labelEdit.config"),i=t.BindComponent.extend({getConfig:function(){return r},constructor:function(e){this.callParent(e)},dispose:function(){this.callParent()},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]="x-label-edit"),"<div class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+n+"' "+" ></div>"}});return t.Component.register(n,i),i}),define("$model/UI2/system/components/justep/list/list.config",["require"],function(e){return{properties:{limit:"number",filter:"string",data:"string",autoLoad:"boolean",disablePullToRefresh:"boolean",disableInfiniteLoad:"boolean"},events:["onAfterRender"],binds:{}}}),define("$model/UI2/system/components/justep/list/list",["require","$UI/system/components/justep/common/res","jquery","$UI/system/lib/justep","../data/data","./list.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("jquery"),n=e("$UI/system/lib/justep"),r=n.Express,i=n.Bind,s=e("../data/data"),o=e.normalizeName("./list"),u=e("./list.config"),a=n.BindComponent.extend({getConfig:function(){return u},constructor:function(e){this.filter="",this.pageIndex=i.observable(-1),this.limit=-1,this.data="",this.hasMore=!1,this.autoLoad=!0,this.disabled=!1,this._canLoadData=!1,this.disablePullToRefresh=!1,this.disableInfiniteLoad=!1,this.callParent(e)},dispose:function(){this.callParent()},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]="x-list"),"<div class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+o+"' "+" >"+"<div class='x-list-head'>"+(e.head?e.head:"")+"</div>"+"<div class='x-list-content'>"+(e.template?e.template:"")+"</div>"+"</div>"},getData:function(){return this.getModel().comp(this.data)},doInit:function(e,t){this._bindEvent(),this._createForeachData();if(this.autoLoad){var r=this.getModel();n.ModelBase.MODEL_STATUS_CONSTRUCT_DONE>r.getStatus()?r.on(n.ModelBase.MODEL_CONSTRUCT_DONE_EVENT,this.refresh.bind(this,!1)):n.Bind.utils.domNodeReady.addReadyCallback(this.domNode,this.refresh.bind(this,!1))}},_bindEvent:function(){var e=this.getModel();e.on("onPullDown",function(e){!this.disablePullToRefresh&&this._isSelfRefresh(e.source)&&this.refresh(!0)},this),e.on("onPullUp",function(e){!this.disableInfiniteLoad&&this._isSelfRefresh(e.source)&&(this.loadNextPage(),e.noMoreLoad=!this.hasMore)},this),this._getForeachNode().on("click",{comp:this},function(e){return e.data.comp._doRowClick(e),!0})},_isSelfRefresh:function(e){return this._getForeachNode().parents(".x-scroll")[0]==e.domNode},_doRowClick:function(e){var t=i.contextFor(e.target||e.srcElement);if(t){var n=t.$object;n instanceof s.Row&&n.data.to(n)}},_createForeachData:function(){var e=this.getModel(),r=this;"function"!=typeof e["foreach_"+this.$domNode.attr("xid")]&&(e["foreach_"+this.$domNode.attr("xid")]=function(e){var i=n.Component.getComponent(t(e).parents("div[component='"+r.componentName+"']:first")[0]);return i._computedForeach()}),"function"!=typeof e["foreach_afterRender_"+this.$domNode.attr("xid")]&&(e["foreach_afterRender_"+this.$domNode.attr("xid")]=function(e){var i=n.Component.getComponent(t(e).parents("div[component='"+r.componentName+"']:first")[0]);return i._afterRenderForeach()})},_afterRenderForeach:function(){this._getForeachNode().trigger("afterRenderList"),this.fireEvent("onAfterRender",{source:this})},_computedForeach:function(){if(!this.__computed){this.__computed=!0;try{return this.bindingObjects=this.getForeachData(),this.bindingObjects}finally{this.__computed=!1}}},_getForeachNode:function(){return this.$domNode.find(".x-list-template:first")},propertyChangedHandler:function(e,t,n){this.callParent(e,t,n)},getBindingObjects:function(){return this.bindingObjects?this.bindingObjects:[]},getForeachData:function(){if(this.pageIndex.get()==-1)return[];if(this.data){var e=this.getData();if(e instanceof s){var t=e.datas.get(),n=-1==this.limit?e.limit:this.limit,o=t.length,u=-1==this.limit?-1==e.limit?o:e.getOffset():n*this.pageIndex.get(),a=e.getTotal();this.hasMore=u<o||o>0&&a>0&&u-(-1==this.limit?0:n)<a;if(e.limit!=n||this.filter){this.filter&&"string"==typeof this.filter&&(this.filter=new r(this.filter));var f=[],l=i.contextFor(this.domNode);for(var c=0,h=0;c<u&&h<o;h++){var p=!0;this.filter instanceof r&&(l.$row=t[h],p=r.eval(this.filter,l.$object,l)),p&&(f.push(t[h]),c++)}delete l.$row;if(c<u&&o<a&&this._canLoadData&&e.loaded){e.loadNextPageData({append:!0});if(t.length>o)return this.getForeachData()}return f}return u<=o?t:e.loaded&&o<a&&this._canLoadData?(e.loadNextPageData({append:!0}),t.length>o?this.getForeachData():t):t}}return[]},loadNextPage:function(){if(this.hasMore)if(-1==this.limit)this.getData().loadNextPageData({append:!0});else{var e=this.pageIndex.get();this._canLoadData=!0;try{this.pageIndex.set(e+1)}finally{this._canLoadData=!1}}},refresh:function(e){if(this.data){var t=this.getData();t instanceof s&&(e||!t.autoLoad&&!t.isLoaded())&&t.refreshData(),this._canLoadData=!0;try{this.pageIndex.set(1)}finally{this._canLoadData=!1}t instanceof s&&t.first()}this._getForeachNode().removeClass("hide")}});return n.Component.register(o,a),a}),define("$model/UI2/system/components/justep/messageDialog/messageDialog.config",["require"],function(e){return{properties:{type:"string",title:"string",message:"string",width:"string",height:"string"},events:["onClose","onOK","onCancel","onYes","onNo"],binds:{}}}),define("$model/UI2/system/components/justep/messageDialog/messageDialog",["require","$UI/system/components/justep/common/res","css!./css/messageDialog","jquery","$UI/system/lib/justep","./messageDialog.config"],function(e){e("$UI/system/components/justep/common/res"),e("css!./css/messageDialog").load();var t=e("jquery"),n=e("$UI/system/lib/justep"),r=e("./messageDialog.config"),i=e.normalizeName("./messageDialog"),s=(new n.Message(n.Message.JUSTEP231079)).getMessage(),o=(new n.Message(n.Message.JUSTEP231080)).getMessage(),u=(new n.Message(n.Message.JUSTEP231081)).getMessage(),a=(new n.Message(n.Message.JUSTEP231082)).getMessage(),f=null;return f=n.BindComponent.extend({getConfig:function(){return r},constructor:function(e){this.callParent(e),this.type=f.type.OK,this.title="",this.message="",this.width="",this.height=""},dispose:function(){this._getButtonsNode().off("click",t.proxy(this._doClick,this)),this.callParent()},doInit:function(e,n){this._getButtonsNode().on("click",t.proxy(this._doClick,this))},buildTemplate:function(e){return e||(e={}),e.type||(e.type=f.type.OK),this.set(e),'<span component="'+i+'" type="'+e.type+'">'+'<div class="x-modal-overlay"></div>'+'<div class="x-modal">'+'<div class="x-modal-inner">'+'<div class="x-modal-title">'+e.title+"</div>"+'<div class="x-modal-text">'+e.message+"</div>"+'<input type="text" class="x-modal-prompt-input">'+"</div>"+'<div class="x-modal-buttons">'+'<a class="x-modal-button x-modal-button-bold OK" value="ok">'+s+"</a>"+'<a class="x-modal-button x-modal-button-bold Yes" value="yes">'+u+"</a>"+'<a class="x-modal-button x-modal-button-bold No" value="no">'+a+"</a>"+'<a class="x-modal-button x-modal-button-bold Cancel" value="cancel">'+o+"</a>"+"</div>"+"</div>"+"</span>"},propertyChangedHandler:function(e,t,n){switch(e){case"title":t!=n&&this._inited&&this._getTitleNode().text(n);break;case"message":if(t!=n&&this._inited){var r=n?(""+n).replace(/\n/g,"<br/>"):"";this._getTextNode().html(r)}break;default:this.callParent(e,t,n)}},_getDialogNode:function(){return this.$domNode.find("div.x-modal")},_getOverlayNode:function(){return this.$domNode.find("div.x-modal-overlay")},_getTitleNode:function(){return this.$domNode.find("div.x-modal-title")},_getTextNode:function(){return this.$domNode.find("div.x-modal-text")},_getButtonsNode:function(){return this.$domNode.find("div.x-modal-buttons")},_getInputNode:function(){return this.$domNode.find("input.x-modal-prompt-input")},_doClick:function(e){this._getDialogNode().removeClass("x-modal-in").hide(),this._getOverlayNode().removeClass("x-modal-overlay-visible"),n.Util.enableTouchMove(document.body);var r={source:this,button:t(e.target).attr("value")};f.type.Prompt==this.type&&r.button=="ok"&&(r.input=this._getInputNode().val()),this.fireEvent("onClose",r),"function"==typeof this.callback&&this.callback(r);switch(r.button){case"ok":this.fireEvent("onOK",r);break;case"cancel":this.fireEvent("onCancel",r);break;case"yes":this.fireEvent("onYes",r);break;case"no":this.fireEvent("onNo",r)}},show:function(e){e=e||{},this.callback=null,"function"==typeof e.callback&&(this.callback=e.callback),this.set(e);var t=this._getDialogNode();this.height!==""&&t.height(this.height);var r={marginTop:-t.outerHeight()/2+"px"};this.width!==""&&(t.width(this.width),r.marginLeft=-t.outerWidth()/2+"px"),t.css(r),n.Util.disableTouchMove(document.body),this._getOverlayNode().addClass("x-modal-overlay-visible"),t.show().addClass("x-modal-in")}}),f.type={OK:"OK",OKCancel:"OKCancel",YesNo:"YesNo",YesNoCancel:"YesNoCancel",Prompt:"Prompt"},f.result={ok:"ok",cancel:"cancel",yes:"yes",no:"no"},n.Component.register(i,f),f}),define("$model/UI2/system/components/justep/output/output.config",["require"],function(e){return{properties:{dataType:"string",format:"string"},events:["onRender"],binds:{"bind-ref":"ref"}}}),define("$model/UI2/system/components/justep/output/output",["require","$UI/system/components/justep/common/res","$UI/system/lib/justep","./output.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("$UI/system/lib/justep"),n=t.Bind,r=e.normalizeName("./output"),i=e("./output.config"),s=t.BindComponent.extend({getConfig:function(){return i},constructor:function(e){this.callParent(e),this.value="",this.format="",this.dataType="String"},dispose:function(){this.callParent()},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]="x-output"),"<div class='"+e["class"]+"' "+(e.style?" style='"+e.style+"'":"")+(e.xid?" xid='"+e.xid+"'":"")+" component='"+r+"'"+" ></div>"},doInit:function(e,t){if(n.isObservable(this.ref)&&this.ref.define){var r=this.ref.define.defCol.type;r!==this.dataType&&(this.dataType=r)}if(this.dataType=="DateTime"||this.dataType=="Date"||this.dataType=="Time")this.format||("DateTime"==this.dataType?this.format="yyyy-MM-dd hh:mm:ss":"Date"==this.dataType?this.format="yyyy-MM-dd":"Time"==this.dataType&&(this.format="hh:mm:ss"))},render:function(){this.callParent();if(n.isObservable(this.ref)&&this.ref.define){var e=this.ref.define.defCol.type;e!==this.dataType&&(this.dataType=e)}var r=this.value,i;r&&("DateTime"==this.dataType?(i=r instanceof Date?r:t.Date.fromString(r,t.Date.STANDART_FORMAT),r=t.Date.toString(i,this.format)):"Date"==this.dataType?(i=r instanceof Date?r:t.Date.fromString(r,t.Date.STANDART_FORMAT_SHOT),r=t.Date.toString(i,this.format)):"Time"==this.dataType&&(i=r instanceof Date?r:t.Date.fromString(r,"hh:mm:ss"),r=t.Date.toString(i,this.format)));if(r===undefined||r===null)r="";var s={source:this,value:this.value,html:r};this.fireEvent("onRender",s),this.$domNode.html(s.html)},propertyChangedHandler:function(e,t,n){switch(e){case"format":this.format||("DateTime"==this.dataType?this.format="yyyy-MM-dd hh:mm:ss":"Date"==this.dataType?this.format="yyyy-MM-dd":"Time"==this.dataType&&(this.format="hh:mm:ss")),t!=n&&(this.needRender=!0);break;case"value":t!=n&&(this._inited&&this.fireEvent("onChange",{source:this,originalValue:t,value:n}),this.needRender=!0);break;default:this.callParent(e,t,n)}}});return t.Component.register(r,s),s}),define("$model/UI2/system/components/justep/panel/panel.config",["require"],function(e){return{properties:{},events:[],binds:{}}}),define("$model/UI2/system/components/justep/panel/panel",["require","$UI/system/components/justep/common/res","css!./css/panel","$UI/system/lib/base/component","$UI/system/lib/base/object","$UI/system/lib/justep","$UI/system/lib/base/string","$UI/system/lib/base/viewComponent","jquery","./panel.config"],function(e){function l(e){return e+="",e?e.indexOf("%")==-1&&e.indexOf("px")==-1?parseInt(e):e:""}function c(e){return e?(e=e.indexOf("%")==-1&&e.indexOf("px")==-1?e+"px":e,e):""}function h(e){return"height:"+c(e)+";"}e("$UI/system/components/justep/common/res"),e("css!./css/panel").load();var t=e("$UI/system/lib/base/component"),n=e("$UI/system/lib/base/object"),r=e("$UI/system/lib/justep"),i=e("$UI/system/lib/base/string"),s=e("$UI/system/lib/base/viewComponent"),o=e("jquery"),u=e.normalizeName("./panel"),a=e("./panel.config"),f=s.extend({constructor:function(e){this.baseCls="x-panel",this.callParent(e)},getConfig:function(){return a},buildTemplate:function(e){return e.content=e.content||{},e.content.refresh=e.content.refresh!=undefined?e.content.refresh:!1,e.content.load=e.content.load!=undefined?e.content.load:!1,e.top=e.top||{},e.top.visible=e.top.visible!=undefined?e.top.visible:!0,e.top.height=e.top.height!=undefined?e.top.height:"48",e.bottom=e.bottom||{},e.bottom.visible=e.bottom.visible!=undefined?e.bottom.visible:!0,e.bottom.height=e.bottom.height!=undefined?e.bottom.height:"48",i.format("<div xid='{0}' class='{1}' component='{2}'><div class='x-panel-top {3}' style='{4}'>{5}</div><div class='x-panel-content'>{6}</div><div class='x-panel-bottom {7}' style='{8}'>{9}</div></div>",e.xid,this.baseCls,u,e.top.visible?"":"hide",h(e.top.height),e.top.body||"",e.content.body||"",e.bottom.visible?"":"hide",h(e.bottom.height),e.bottom.body||"")},init:function(e,t){this.callParent(e,t),this.$el=o(this.domNode),this.$top=o(">.x-panel-top",this.domNode),this.$content=o(">.x-panel-content",this.domNode),this.$bottom=o(">.x-panel-bottom",this.domNode),this.$top.length==0&&this.$content.css("top",0),this.$bottom.length==0&&this.$content.css("bottom",0);var n=this,r=this.getModel().componentPromise(this.$top[0]),i=this.getModel().componentPromise(this.$content[0]),s=this.getModel().componentPromise(this.$bottom[0]);return o.when(r,i,s).then(function(e,t,r){n.inited()},function(e){alert(e)}),{dependence:!0}},setHeight:function(e,t){},getHeight:function(e){return o(">.x-panel-"+e,this.$domNode).css("height")},setVisible:function(e,t){t?o(">.x-panel-"+e,this.$domNode).removeClass("hide"):o(">.x-panel-"+e,this.$domNode).addClass("hide"),e=="top"?t?o(">.x-panel-content",this.$domNode).css("top",o(">.x-panel-top",this.$domNode).height()):o(">.x-panel-content",this.$domNode).css("top",0):t?o(">.x-panel-content",this.$domNode).css("bottom",o(">.x-panel-bottom",this.$domNode).height()):o(">.x-panel-content",this.$domNode).css("bottom",0)},getVisible:function(e){return!o(">.x-panel-"+e,this.$domNode).hasClass("hide")},showTop:function(){this.setVisible("top",!0)},hideTop:function(){this.setVisible("top",!1)},toggleTop:function(){var e=o(">.x-panel-top",this.$domNode).hasClass("hide");this.setVisible("top",e)},showBottom:function(){this.setVisible("bottom",!0)},hideBottom:function(){this.setVisible("bottom",!1)},toggleBottom:function(){var e=o(">.x-panel-bottom",this.$domNode).hasClass("hide");this.setVisible("bottom",e)},get:function(e){return this[e]},remove:function(e){o(".x-panel-"+e,this.$el).remove()}});return t.register(u,f),f}),define("$model/UI2/system/components/justep/panel/child.config",["require"],function(e){return{properties:{height:"string",visible:"boolean"},events:[],binds:{}}}),define("$model/UI2/system/components/justep/panel/child",["require","$UI/system/lib/base/component","$UI/system/lib/base/observable","$UI/system/lib/base/object","$UI/system/lib/justep","$UI/system/lib/base/string","$UI/system/lib/base/viewComponent","jquery","./child.config"],function(e){var t=e("$UI/system/lib/base/component"),n=e("$UI/system/lib/base/observable"),r=e("$UI/system/lib/base/object"),i=e("$UI/system/lib/justep"),s=e("$UI/system/lib/base/string"),o=e("$UI/system/lib/base/viewComponent"),u=e("jquery"),a=e.normalizeName("./child"),f=e("./child.config"),l=o.extend({constructor:function(e){this.height="48",this.visible=!0,this.callParent(e)},init:function(e,n){this.owner=t.getComponent(this.$domNode.parent().get(0)),this.name=this._getName(),this.owner[this.name]=this,this.callParent(e,n)},getConfig:function(){return f},_getName:function(){var e=this.$domNode.attr("class");if(e.indexOf("x-panel-top")!=-1)return"top";if(e.indexOf("x-panel-bottom")!=-1)return"bottom";if(e.indexOf("x-panel-left")!=-1)return"left";if(e.indexOf("x-panel-right")!=-1)return"right";if(e.indexOf("x-panel-content")!=-1)return"content"},get:function(e){e="get"+s.camelize(e);if(this.owner[e])return this.owner[e](this.name)},set:function(e,t){this[e]=t;if(typeof e=="object"){var n=e;for(var r in n)n.hasOwnProperty(r)&&this.set(r,n[r])}else e="set"+s.camelize(e),this.owner[e]&&this.owner[e](this.name,t)},dispose:function(){this.owner.remove(this.name),this.owner=null},propertyChangedHandler:function(e,t,n){switch(e){case"height":this.set(e,n)}}});return t.register(a,l),l}),define("$model/UI2/system/components/justep/row/row",["require","css!./css/row","$UI/system/lib/base/component","$UI/system/lib/base/viewComponent"],function(e){e("css!./css/row").load();var t=e("$UI/system/lib/base/component"),n=e("$UI/system/lib/base/viewComponent"),r=e.normalizeName("./row");return t.register(r,n),n}),define("$model/UI2/system/components/justep/scrollView/scrollView.config",["require"],function(e){return{properties:{hScroll:"boolean",vScroll:"boolean",hScrollbar:"boolean",vScrollbar:"boolean",fadeScrollbar:"boolean",hideScrollbar:"boolean",bounce:"boolean",lockDirection:"boolean",checkDOMChanges:"boolean",snap:"string",scrollbarClass:"string",pullDownLabel:"string",pullDownMoveLabel:"string",pullDownLoadingLabel:"string",pullUpLabel:"string",pullUpMoveLabel:"string",pullUpLoadingLabel:"string",noMoreCanLoadLabel:"string"},events:["onScrollMove","onScrollEnd","onPullDown","onPullUp"]}}),define("$model/UI2/system/components/justep/scrollView/scrollView",["require","$UI/system/lib/base/component","./lib/iscroll","jquery","$UI/system/lib/base/viewComponent","./scrollView.config","css!./css/scrollView"],function(e){var t=e("$UI/system/lib/base/component"),n=e("./lib/iscroll").iScroll,r=e("jquery"),i=e("$UI/system/lib/base/viewComponent"),s=e.normalizeName("./scrollView"),o=e("./scrollView.config");e("css!./css/scrollView").load();var u=i.extend({getConfig:function(){return o},set:function(e){var t=this;r.each(e,function(e,n){t.hasOwnProperty(e)||(t[e]=undefined)}),this.callParent(e)},buildTemplate:function(e){return e=e||{},this.set(e),r('<div class="x-scroll"><div class="x-scroll-content"></div></div>').attr(e).attr("component",s)},init:function(e,t){this.pullDownLabel="下拉刷新",this.pullDownMoveLabel="松开刷新",this.pullDownLoadingLabel="加载中....",this.pullUpLabel="加载更多",this.pullUpMoveLabel="释放加载",this.pullUpLoadingLabel="加载中....",this.noMoreLoadLabel="已经到最后.",this.callParent(e,t),this.$rootEle=r(this.domNode).parent(),this.$scrollEle=this.$rootEle.find(">.x-scroll"),this.getModel().on("onModelConstructDone",this.render,this),this.getModel().on("onScrollRefresh",function(e){this.$rootEle.find(r(e.source.$rootEle)).length>0&&this.refresh()},this),this.$rootEle.on("afterRenderList",r.proxy(function(e){this.refresh()},this))},propertyChangedHandler:function(e,t,n){this.callParent(e,t,n);if(e=="pullDownLabel"){if(this.$puEle&&this.$pdEle.hasClass("x-pull-down")){var r=this.$scrollEle.find(".x-pull-down>.x-pull-down-label");r.text(n)}}else if(e=="pullUpLabel"&&this.$puEle&&this.$puEle.hasClass("x-pull-up")){var i=this.$scrollEle.find(".x-pull-up>.x-pull-up-label");i.text(n)}},render:function(){var e=this.$rootEle.parent().outerHeight(!0),t=this.$rootEle.outerHeight(!0),i=this.$scrollEle.outerHeight(!0);t==i&&t>e&&this.$rootEle.css("height","100%"),this.$rootEle.css("position")!="absolute"?(this.$rootEle.css({position:"relative"}),this.$scrollEle.css({position:"relative"})):this.$scrollEle.css({width:"100%",position:"absolute"});var s=this.$rootEle.data("config")||{};if(typeof MutationObserver=="function"){var o=this.$scrollEle.find(".x-scroll-content"),u=this,a=new MutationObserver(function(e){u.refresh()}),f=o.children().length;if(f<3)for(var l=0;l<f;l++)a.observe(o.children().get(l),{childList:!0});a.observe(o.get(0),{childList:!0}),s.checkDOMChanges=!1}var u=this,c={hideScrollbar:!0,onRefresh:function(){return u.fireEvent("onScrollRefresh",{source:u})},onScrollMove:function(){return u.fireEvent("onScrollMove",{source:u})},onScrollEnd:function(){return u.fireEvent("onScrollEnd",{source:u})}};s=r.extend(c,s),this.$scrollEle.find(">.x-pull-down").length>0&&(s.topOffset=50),this.scroller=new n(this.$rootEle.get(0),s),this.scroller.options.topOffset=0,this.getModel().on("reflow",function(e){r(e).find(this.$rootEle).length>0&&this.refresh()},this),this.$scrollEle.find(">.x-pull-down").length>0&&this.pullDown(function(){return this.fireEvent("onPullDown",{source:this}),this.getModel().fireEvent("onPullDown",{source:this}),!0}),this.$scrollEle.find(">.x-pull-up").length>0&&this.pullUp(function(e){this.noMoreLoad=!1;var t={source:this,noMoreLoad:!1};return this.fireEvent("onPullUp",t),this.getModel().fireEvent("onPullUp",t),t.noMoreLoad&&(this.noMoreLoad=!0),!0}),u.getModel().fireEvent("onScrollRefresh",{source:this})},refresh:function(){if(this.scroller){var e=this;clearTimeout(this.refreshID),this.refreshID=setTimeout(function(){if(e.$pdEle&&e.$pdEle.length>0){var t=e.$pdEle.outerHeight(!0);e.scroller.options.topOffset=t,e.scroller.minScrollY=-t}e.scroller.refresh(),e.getModel().fireEvent("onScrollRefresh",{source:e}),e.noMoreLoad=!1},1e3)}},pullDown:function(e){this.$pdEle=this.$scrollEle.find(">.x-pull-down"),this.$pdiEle=this.$scrollEle.find(".x-pull-down>.x-pull-down-img"),this.$pdEle.length==0&&(this.$pdEle=r('<div class="x-pull-down"><span class="x-pull-down-label">'+this.pullDownLabel+"</span></div>"),this.$scrollEle.prepend(this.$pdEle),this.refresh());var t=this.$pdEle.outerHeight(!0);this.scroller.options.topOffset=t,this.refresh();var n=this,i=this.$pdEle.find(".x-pull-down-label");this._pdRefresh=function(){n.$pdEle.hasClass("x-loading")&&(n.$pdEle.removeClass("x-loading"),n.$pdEle.addClass("x-pull-down"),i.text(this.pullDownLabel)),n.$pdiEle.css({transform:"rotate(0deg) translate3d(0,0,0)"})},this.on("onScrollRefresh",this._pdRefresh),this._pdScrollMove=function(){if(n.scroller.y>-15&&n.scroller.y<5){var e=((n.scroller.y-5)/20+1)*-180;n.$pdiEle.css({transform:"rotate("+e+"deg) translate3d(0,0,0)"})}else n.scroller.y>5&&n.$pdiEle.css({transform:"rotate(-180deg) translate3d(0,0,0)"});n.scroller.y>5&&!n.$pdEle.hasClass("x-flip")?(n.$pdEle.addClass("x-flip"),n.$pdEle.removeClass("x-restore"),n.$pdEle.addClass("x-flip"),n.$pdEle.removeClass("x-restore"),i.text(n.pullDownMoveLabel),n.scroller.minScrollY=0):n.scroller.y<5&&n.$pdEle.hasClass("x-flip")&&(n.$pdEle.removeClass("x-flip"),n.$pdEle.addClass("x-restore"),i.text(n.pullDownLabel),n.scroller.minScrollY=-t)},this.on("onScrollMove",this._pdScrollMove),this._pdScrollEnd=function(t){if(n.$pdEle.hasClass("x-flip")){n.$pdEle.removeClass("x-flip"),n.$pdEle.addClass("x-loading"),i.text(n.pullDownLoadingLabel);var s=e.call(this,t);r.type(s)==="object"?r.when(s).done(n.pullDownFinish()).fail(n.pullDownError()):r.type(s)==="boolean"&&(s?n.pullDownFinish(t):n.pullDownError(t))}else n.$pdEle.hasClass("x-restore")&&(n.$pdEle.removeClass("x-restore"),n.$pdEle.addClass("x-pull-down"),this.refresh())},this.on("onScrollEnd",this._pdScrollEnd)},pullDownFinish:function(e){this.refresh()},pullDownError:function(e){this.refresh()},pullUp:function(e){this.$puEle=this.$scrollEle.find(">.x-pull-up"),this.$puEle.length==0&&(this.$puEle=r('<div class="x-pull-up"><span class="x-pull-up-label">'+this.pullUpLabel+"</span></div>"),this.$scrollEle.append($puEle),this.refresh());var t=this.$puEle.outerHeight(!0),n=this,i=this.$puEle.find(".x-pull-up-label");this._puRefresh=function(){n.$puEle.hasClass("x-loading")&&(n.$puEle.removeClass("x-loading"),n.$puEle.addClass("x-pull-up")),n.noMoreLoad?i.text(n.noMoreLoadLabel):i.text(n.pullUpLabel)},this.on("onScrollRefresh",this._puRefresh),this._puScrollMove=function(){n.scroller.y<0-n.scroller.options.topOffset&&n.scroller.y<n.scroller.maxScrollY-t&&!n.$puEle.hasClass("x-flip")?(n.$puEle.removeClass("x-restore"),n.$puEle.addClass("x-flip"),i.text(n.pullUpMoveLabel)):n.scroller.y>n.scroller.maxScrollY-t&&n.$puEle.hasClass("x-flip")&&(n.$puEle.removeClass("x-flip"),n.$puEle.addClass("x-restore"),i.text(n.pullUpLabel))},this.on("onScrollMove",this._puScrollMove),this._puScrollEnd=function(t){if(n.$puEle.hasClass("x-flip")){n.$puEle.removeClass("x-flip"),n.$puEle.addClass("x-loading"),i.text(n.pullUpLoadingLabel);var s=e.call(this,t);r.type(s)==="object"?r.when(s).done(n.pullUpFinish()).fail(n.pullUpError()):r.type(s)==="boolean"&&(s?n.pullUpFinish():n.pullUpError())}},this.on("onScrollEnd",this._puScrollEnd)},pullUpFinish:function(e){this.refresh()},pullUpError:function(e){this.refresh()}});return t.register(s,u),u}),define("$model/UI2/system/components/justep/select/radioGroup.config",["require"],function(e){return{properties:{disabled:"boolean",itemStyle:"string",itemClass:"string"},events:["onChanged"],binds:{"bind-ref":"ref"}}}),define("$model/UI2/system/components/justep/select/radioGroup",["require","$UI/system/components/justep/common/res","jquery","$UI/system/lib/justep","../button/radio","./radioGroup.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("jquery"),n=e("$UI/system/lib/justep"),r=e("../button/radio"),i=e.normalizeName("./radioGroup"),s=e("./radioGroup.config"),o=n.BindComponent.extend({getConfig:function(){return s},constructor:function(e){this.itemStyle="",this.itemClass="",this._oldItemClass="",this.callParent(e),this.disabled=!1},dispose:function(){this.$domNode.off("click",t.proxy(this._doClick,this)),this.callParent()},val:function(e){if(arguments.length===0)return this.$domNode.find("input:checked").val();this.$domNode.find("input").each(function(){var n=t(this);n.prop("checked",e==n.val())})},_buildForeachTemplate:function(e){var t=new r;return t.buildTemplate({name:e.name,"bind-value":e["bind-itemsetValue"],"bind-label":e["bind-itemsetLabel"]})},buildTemplate:function(e){e||(e={}),this.set(e),e["class"]||(e["class"]="x-radio-group");var t="<div class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+(e["bind-itemset"]?" data-bind='foreach:{data:"+e["bind-itemset"]+",afterRender:$model.comp($element)['_doUpdate'].bind($model.comp($element))}' ":"")+" component='"+i+"' >"+this._buildForeach(e)+"</div>";return delete e["bind-itemset"],delete e["bind-itemsetValue"],delete e["bind-itemsetLabel"],t},doInit:function(e,r){this.$domNode.on("click",t.proxy(this._doClick,this));var i=this.$domNode.attr("name");i||(i=n.UUID.createUUID()),this.$domNode.children("span[component*='/system/components/justep/button/']").attr("name",i)},_doUpdate:function(){this.ref&&(this.updateValue(this.ref),this.updateReadonly(this.ref),this.updateValidation(this.ref)),this._doUpdateCss()},_doUpdateCss:function(){var e=this.itemStyle,n=this.itemClass,r=this._oldItemClass;this.$domNode.children().each(function(){var i=t(this);i.attr({style:e}).removeClass(r).addClass(n)})},set:function(e){this.callParent(e),e&&e.hasOwnProperty("value")&&this.val(e.value)},get:function(e){return"value"==e?this.val():this.callParent(e)},propertyChangedHandler:function(e,t,r){if("disabled"===e)this.$domNode.children("span").each(function(){var e=n.Component.getComponent(this);e&&e.set({disabled:r})});else if("itemClass"===e||"itemStyle"===e)this._doUpdateCss(),"itemClass"===e&&(this._oldItemClass=t);this.callParent(e,t,r)},_doClick:function(e){e.target.nodeName.toLowerCase()=="input"&&(this.fireEvent("onChanged",{source:this,value:this.val()}),this.val2ref())}});return n.Component.register(i,o),o}),define("$model/UI2/system/components/justep/select/checkboxGroup.config",["require"],function(e){return{properties:{disabled:"boolean",itemStyle:"string",itemClass:"string"},events:["onChanged"],binds:{"bind-ref":"ref"}}}),define("$model/UI2/system/components/justep/select/checkboxGroup",["require","jquery","$UI/system/lib/justep","../button/checkbox","./radioGroup","./checkboxGroup.config"],function(e){var t=e("jquery"),n=e("$UI/system/lib/justep"),r=e("../button/checkbox"),i=e("./radioGroup"),s=e.normalizeName("./checkboxGroup"),o=e("./checkboxGroup.config"),u=i.extend({getConfig:function(){return o},val:function(e){if(arguments.length===0){var n=[];return this.$domNode.find("input:checked").each(function(){n.push(t(this).val())}),n.join(" ")}if(null===e||undefined===e)e="";var r=(""+e).split(" ");this.$domNode.find("input").each(function(){var e=t(this);e.prop("checked",-1<t.inArray(e.val(),r))})},_buildForeachTemplate:function(e){var t=new r;return t.buildTemplate({name:e.name,"bind-value":e["bind-itemsetValue"],"bind-label":e["bind-itemsetLabel"]})},buildTemplate:function(e){e||(e={}),this.set(e),e["class"]||(e["class"]="x-checkbox-group");var t="<div class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" data-bind='foreach:"+e.itemset+"' "+" component='"+s+"' >"+this._buildForeach(e)+"</div>";return delete e["bind-itemset"],delete e["bind-itemsetValue"],delete e["bind-itemsetLabel"],t}});return n.Component.register(s,u),u}),define("$model/UI2/system/components/justep/select/select.config",["require"],function(e){return{properties:{optionsAutoLoad:"boolean"},events:["onChange"],binds:{"bind-labelRef":"labelRef","bind-ref":"ref"}}}),define("$model/UI2/system/components/justep/select/select",["require","$UI/system/components/justep/common/res","$UI/system/lib/justep","./select.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("$UI/system/lib/justep"),n=e.normalizeName("./select"),r=e("./select.config"),i="ontouchstart"in window,s=i?"touchstart":"mousedown",o=t.BindComponent.extend({getConfig:function(){return r},constructor:function(e){this.callParent(e),this.disabled=!1,this.options=null,this.optionsAutoLoad=!0,this.optionsCaption="",this.optionsText="",this.optionsValue=""},dispose:function(){this.$domNode.off("optionChange",$.proxy(this._doOptionChange,this)),this.$domNode.off("change",$.proxy(this._doChange,this)),this.$domNode.off(s,$.proxy(this._loadData,this)),this.callParent()},val:function(){if(arguments.length===0)return this.$domNode.val();this.$domNode.val(arguments[0])},buildTemplate:function(e){this._createOptionsAfterRender(),e||(e={}),this.set(e),e["class"]||(e["class"]="form-control"),e["bind-optionsLabel"]&&(e["bind-optionsText"]="'"+e["bind-optionsLabel"]+"'",delete e["bind-optionsLabel"]);var t=["bind-optionsCaption","bind-optionsValue"];for(var r in t)e[t[r]]&&(e[t[r]]="'"+e[t[r]]+"'");return e["bind-options"]&&(e["bind-optionsAfterRender"]="$model.__justep__.selectOptionsAfterRender.bind($model,$element)"),"<select class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+n+"' "+" ></select>"},doInit:function(e,t,n){this.$domNode.on("optionChange",$.proxy(this._doOptionChange,this)),this.$domNode.on("change",$.proxy(this._doChange,this)),this.$domNode.on(s,$.proxy(this._loadData,this)),this.labelRef=e?e.labelRef:null},doUpdate:function(e,t,n){this.labelRef=e?e.labelRef:null,n.has("options")&&(this.options=n.get("options")),this._addDefaultOption(),this.callParent(e,t)},_createOptionsAfterRender:function(){var e=this.getModel();e.__justep__||(e.__justep__={}),e.__justep__.selectOptionsAfterRender||(e.__justep__.selectOptionsAfterRender=function(e){var n=t.Component.getComponent(e);n&&n._addDefaultOption()})},_loadData:function(){var e;this.optionsAutoLoad?(this.$domNode.children("[_default_option_='true']").remove(),e=this.options.owner,e&&!e.autoLoad&&!e.isLoaded()&&(e.refreshData(),this.updateValue(this.ref))):(e=this.options.owner,e&&!e.autoLoad&&e.isLoaded()&&(this.$domNode.children("[_default_option_='true']").remove(),this.updateValue(this.ref)))},_addDefaultOption:function(){if(!this.options)return;var e=this.options.owner;e&&!e.autoLoad&&!e.isLoaded()&&(this.ref&&this.labelRef?this._addOption(this.ref.get(),this.labelRef.get()):this.ref&&this._addOption(this.ref.get()))},_addOption:function(e,t){if(!this._optionExistValue(e)){var n=document.createElement("option");$(n).attr("_default_option_","true"),n.value=e,n.text=null!==t&&undefined!==t?t:"",this.domNode.add(n,null)}},_optionExistValue:function(e){e=e===undefined||e===null?"":e;var t=this.domNode.options;for(var n=t.length-1;n>=0;n--)if(e==t[n].value||e+""==t[n].value)return!0},_getLabel:function(){var e=this.$domNode.prop("selectedIndex");return e>-1?this.$domNode.prop("options")[e].text:undefined},_doChange:function(e){this.val2ref(),this._val2ref(this.labelRef,this._getLabel()),this.fireEvent("onChange",{source:this,value:this.value})},_doOptionChange:function(e){this.updateValue(this.ref)}});return t.Component.register(n,o),o}),define("$model/UI2/system/components/justep/textarea/textarea.config",["require"],function(e){return{properties:{placeHolder:"string",disabled:"boolean"},events:["onChange"],binds:{"bind-ref":"ref"}}}),define("$model/UI2/system/components/justep/textarea/textarea",["require","$UI/system/components/justep/common/res","jquery","$UI/system/lib/justep","./textarea.config"],function(e){e("$UI/system/components/justep/common/res");var t=e("jquery"),n=e("$UI/system/lib/justep"),r=e.normalizeName("./textarea"),i=e("./textarea.config"),s=n.BindComponent.extend({getConfig:function(){return i},constructor:function(e){this.callParent(e),this.disabled=!1,this.placeHolder=""},dispose:function(){this.removeHandlers(),this.callParent()},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]="form-control"),"<textarea class='"+e["class"]+"' "+(e.style?" style='"+e.style+"'":"")+(e.xid?" xid='"+e.xid+"'":"")+" component='"+r+"'"+" ></textarea>"},doInit:function(e,t){this.addHandlers()},set:function(e){this.callParent(e),e&&e.hasOwnProperty("value")&&this.val(e.value)},get:function(e){return"value"==e?this.val():this.callParent(e)},val:function(e){var t=this.$domNode.val();if(arguments.length===0)return t;if(e!=t){var n=this.$domNode;this._inited&&this.fireEvent("onChange",{source:this,value:e});if(e===undefined||e===null)e="";n.val(e)}},addHandlers:function(){this.$domNode.on("change",t.proxy(this.doChange,this))},removeHandlers:function(){this.$domNode.off("change",t.proxy(this.doChange,this))},doChange:function(e){this.fireEvent("onChange",{source:this,value:this.$domNode.val()}),this.val2ref()},clear:function(){this.val(null)}});return n.Component.register(r,s),s}),define("$model/UI2/system/components/justep/titleBar/titleBar.config",["require"],function(e){return{properties:{title:"string"},events:[],binds:{}}}),define("$model/UI2/system/components/justep/titleBar/titleBar",["require","$UI/system/lib/base/component","$UI/system/lib/base/string","$UI/system/lib/base/viewComponent","$UI/system/lib/base/object","$UI/system/lib/justep","./titleBar.config","css!./css/titleBar"],function(e){var t=e("$UI/system/lib/base/component"),n=e("$UI/system/lib/base/string"),r=e("$UI/system/lib/base/viewComponent"),i=e("$UI/system/lib/base/object"),s=e("$UI/system/lib/justep"),o=e.normalizeName("./titleBar"),u=e("./titleBar.config");e("css!./css/titleBar").load();var a=r.extend({getUrl:function(){return o},constructor:function(e){this.title="",this.callParent(e)},buildTemplate:function(e){return e.right.reverse=e.right.reverse===!0||e.right.reverse===undefined?!0:!1,n.format("<div class='x-titlebar' xid='{0}' componet='{1}'><div class='x-titlebar-left {2}'>{3}</div><div class='x-titlebar-title' style='display:{4}'>{5}</div><div class='x-titlebar-right {6}'>{7}</div></div>",e.xid,o,e.left.reverse?"reverse":"",e.left.body,e.title?"block":"none",e.title||"",e.right.reverse?"reverse":"",e.right.body)},getConfig:function(){return u},init:function(){this.callParent(),this.$left=$(">.x-titlebar-left",this.domNode),this.$right=$(">.x-titlebar-right",this.domNode),this.$title=$(">.x-titlebar-title",this.domNode),this.left=new f({owner:this,name:"left"}),this.right=new f({owner:this,name:"right"})},setTitle:function(e){e?$(">.x-titlebar-title",this.domNode).show():(e="",$(">.x-titlebar-title",this.domNode).hide()),$(">.x-titlebar-title",this.domNode).html(e)},setReverse:function(e,t){typeof t=="string"&&(t=t=="true"),t?$(">.x-titlebar-"+e,this.domNode).addClass("reverse"):$(">.x-titlebar-"+e,this.domNode).removeClass("reverse")},propertyChangedHandler:function(e,t,n){switch(e){case"title":this.setTitle(n);break;default:this.callParent(e,t,n)}}}),f=i.extend({constructor:function(e){s.Util.apply(this,e)},get:function(e){e="get"+n.camelize(e);if(this.owner[e])return this.owner[e](this.name)},set:function(e,t){if(typeof e=="object"){var r=e;for(var i in r)r.hasOwnProperty(i)&&this.set(i,r[i])}else e="set"+n.camelize(e),this.owner[e]&&this.owner[e](this.name,t)}});return t.register(o,a),a}),define("$model/UI2/system/components/justep/windowDialog/windowDialog.config",["require"],function(e){return{properties:{src:"string",process:"string",activity:"string",showTitle:"boolean",title:"string",status:"string",width:"string",height:"string",top:"string",left:"string"},events:["onLoad","onOpen","onClose","onReceive"],binds:{}}}),define("$model/UI2/system/components/justep/windowDialog/windowDialog",["require","jquery","$UI/system/lib/justep","../dialog/dialog","../windowContainer/windowContainer","./windowDialog.config"],function(e){var t=e("jquery"),n=e("$UI/system/lib/justep"),r=n.ModelBase,i=e("../dialog/dialog"),s=e("../windowContainer/windowContainer"),o=e.normalizeName("./windowDialog"),u=e("./windowDialog.config"),a=i.extend({getConfig:function(){return u},constructor:function(e){this.src="",this.process="",this.activity="",this._compose=null,this.callParent(e)},dispose:function(){this.getModel().off(r.MESSAGE_EVENT,this.doReceiver,this),this.callParent()},doInit:function(e,i){this.callParent(e,i);var o=this.$domNode.attr("xid");o||(o=n.UUID.createUUID(),this.$domNode.attr("xid",o));var u={src:this.src,process:this.process,activity:this.activity};u.xid="_compose_"+o+"_",this._compose=new s(u);var a=t.Deferred();this.composeOK=a.promise(),this._compose.on(s.LOAD_EVENT,function(){a.resolve(),this.fireEvent(s.LOAD_EVENT,{source:this})},this),this.getModel().on(r.MESSAGE_EVENT,this.doReceive,this)},propertyChangedHandler:function(e,t,n){switch(e){case"src":case"process":case"activity":t!=n&&this._inited&&this._refresh();break;default:this.callParent(e,t,n)}},doReceive:function(e){var t=e.message;t&&t.target==this&&(t.sender=t.source,t.source=this,delete t.target,this.fireEvent("onReceive",t))},render:function(){this.callParent()},_refresh:function(){this._compose&&(this._compose.setSrc(this.src),this._compose.setProcess(this.process),this._compose.setActivity(this.activity),this._compose.refresh())},_setDialogParam:function(e){},open:function(e){this.callParent(),e&&this.set(e);if(!n.Bind.isBound(this._compose.domNode)){var t=this._getBodyNode()[0];this._compose.setCSS({height:"100%",position:"relative"}),n.Component.addComponent(t,this._compose)}var r=this;this.composeOK.done(function(){r._setDialogParam(e);var t=r._compose.getInnerModel();t.postMessage({source:r,type:"WindowDialog",data:e?e.data:undefined}),t.fireEvent("onResize",{source:r._compose})})}});return n.Component.addOperations(a,{open:{label:"",argsDef:[{name:"option",displayName:"打开传入参数"}],method:function(e){return this.owner.open(e.option)}},close:{label:"",method:function(e){return this.owner.close()}}}),n.Component.register(o,a),a}),define("$model/UI2/system/components/justep/windowReceiver/windowReceiver.config",["require"],function(e){return{properties:{},events:["onReceive"],binds:{}}}),define("$model/UI2/system/components/justep/windowReceiver/windowReceiver",["require","jquery","$UI/system/lib/justep","$UI/system/lib/base/url","./windowReceiver.config"],function(e){var t=e("jquery"),n=e("$UI/system/lib/justep"),r=n.ModelBase,i=e("$UI/system/lib/base/url"),s=e.normalizeName("./windowReceiver"),o=e("./windowReceiver.config"),u=n.BindComponent.extend({getConfig:function(){return o},constructor:function(e){this.callParent(e)},dispose:function(){this.getModel().off(r.MESSAGE_EVENT,this.doReceiver,this),this.callParent()},buildTemplate:function(e){return e||(e={}),'<span component="'+s+'" '+(e.xid?' xid="'+e.xid+'" ':"")+">"+"</span>"},doInit:function(e,n){this.getModel().on(r.MESSAGE_EVENT,this.doReceive,this);var s=(new i(location.href)).getParam("$opener");if(s&&opener){this.winOpener=opener.justep.windowOpener_openers[s];var o=this;t(window).on("message",function(e){var t=e.originalEvent.data;t.type=="WindowOpener"&&o.doReceive({message:t})});var o=this;t(window).unload(function(e){o.winOpener&&o.winOpener.dispatchCloseEvent&&o.winOpener.dispatchCloseEvent()}),this.winOpener&&this.winOpener.sendToWindow&&this.winOpener.sendToWindow()}},doReceive:function(e){var n=e.message;n&&t.inArray(n.type,["WindowDialog"])>-1?(this.target=n.source,n.source=this,n.sender=this.target,this.fireEvent("onReceive",n)):n&&t.inArray(n.type,["WindowOpener"])>-1&&opener&&this.winOpener&&(n.source=this,n.sender=opener,this.fireEvent("onReceive",n))},sendData:function(e){this.target?this.target.getModel().postMessage({source:this,target:this.target,data:e}):opener&&this.winOpener&&this.winOpener.ensure(e,!0)},windowEnsure:function(e){this.target?(this.target.getModel().postMessage({source:this,target:this.target,data:e}),this.target.close()):opener&&this.winOpener&&this.winOpener.ensure(e)},windowCancel:function(){this.target?this.target.close():opener&&this.winOpener&&this.winOpener.cancel()}});return n.Component.addOperations(u,{windowCancel:{label:"",icon:"icon-chevron-left",method:function(e){return this.owner.windowCancel()}},windowEnsure:{label:"",argsDef:[{name:"data",displayName:"返回的数据"}],method:function(e){return this.owner.windowEnsure(e.data)}},sendData:{label:"",argsDef:[{name:"data",displayName:"返回的数据"}],method:function(e){return this.owner.sendData(e.data)}}}),n.Component.register(s,u),u}),define("$model/UI2/system/components/justep/menu/menu.config",["require"],function(e){return{properties:{},events:[],binds:{}}}),define("$model/UI2/system/components/justep/menu/menu",["require","$UI/system/components/justep/common/res","css!./css/menu","$UI/system/lib/base/component","$UI/system/lib/base/viewComponent","jquery","./menu.config"],function(e){e("$UI/system/components/justep/common/res"),e("css!./css/menu").load();var t=e("$UI/system/lib/base/component"),n=e("$UI/system/lib/base/viewComponent"),r=e("jquery"),i=e.normalizeName("./menu"),s=e("./menu.config"),o=n.extend({baseCls:"x-menu",constructor:function(e){this.callParent(e)},getConfig:function(){return s},buildTemplate:function(e){},init:function(e,t){this.callParent(e,t),this.$el=r(this.domNode)}});return t.register(i,o),o}),define("$model/UI2/system/components/justep/popOver/popOver.config",["require"],function(e){return{properties:{position:"string",anchor:"string",direction:"string",opacity:"number",dismissible:"boolean"},events:[],binds:{}}}),define("$model/UI2/system/components/justep/popOver/popOver",["require","$UI/system/components/justep/common/res","css!./css/popOver","$UI/system/lib/base/component","$UI/system/lib/base/viewComponent","./popOver.config"],function(e){e("$UI/system/components/justep/common/res"),e("css!./css/popOver").load();var t=e("$UI/system/lib/base/component"),n=e("$UI/system/lib/base/viewComponent"),r=e.normalizeName("./popOver"),i=e("./popOver.config"),s=n.extend({baseCls:"x-popOver",overlayCls:"x-popOver-overlay",contentCls:"x-popOver-content",constructor:function(){this.position="center",this.anchor=null,this.direction="right-bottom",this.opacity=.5,this.dismissible=!0,this.callParent()},getConfig:function(){return i},buildTemplate:function(e){return null},init:function(e,t){this.$el=$(this.domNode),this.$overlay=$(">."+this.overlayCls,this.$el),this.$content=$(">."+this.contentCls,this.$el),this.callParent(e,t);var n=this;this.$overlay.click(function(){if(n.dismissible)return n.hide(),!1}),$(window).resize(function(){n.$el.is(":visible")&&n.pos()})},show:function(){this.$el.show(),this.pos()},hide:function(){this.$el.hide()},pos:function(){this.$content.css({margin:"auto",left:"auto",right:"auto",top:"auto",bottom:"auto"});var e;try{e=this.getModel().comp(this.anchor).domNode}catch(t){e=this.anchor}e=$(e);if(e.length>0){var n=this.direction||"right-bottom",r=e.offset(),i=e.outerHeight(),s=e.outerWidth(),o=$(window).height(),u=$(window).width();switch(n){case"left-top":this.$content.css({bottom:o-r.top-i,left:r.left});break;case"left-bottom":this.$content.css({top:r.top+i,left:r.left});break;case"right-top":this.$content.css({bottom:o-r.top-i,right:u-r.left-s});break;case"right-bottom":this.$content.css({top:r.top+i,right:u-r.left-s})}return}var a=30;switch(this.position){case"center":this.$content.css({"margin-left":-this.$content.width()/2,"margin-top":-this.$content.height()/2,top:"50%",left:"50%",right:"auto",bottom:"auto"});break;case"bottom":this.$content.css({"margin-left":-this.$content.width()/2,top:"auto",left:"50%",right:"auto",bottom:a});break;case"left":this.$content.css({"margin-top":-this.$content.height()/2,"margin-left":0,top:"50%",left:a,right:"auto",bottom:"auto"});break;case"right":this.$content.css({"margin-top":-this.$content.height()/2,"margin-left":0,top:"50%",left:"auto",right:a,bottom:"auto"});break;default:this.$content.css({"margin-left":-this.$content.width()/2,top:a,left:"50%",right:"auto",bottom:"auto"})}},propertyChangedHandler:function(e,t,n){switch(e){case"opacity":n=parseFloat(n),isNaN(n)||n>=0&&n<=1&&(this.opacity=n,this.$overlay.css("opacity",n));break;case"dismissible":typeof n=="string"&&(n=n=="true"),this.dismissible=n;break;default:this.callParent(e,t,n)}}});return justep.Component.addOperations(s,{show:{label:"显示",icon:null,method:function(e){return this.owner.show()}},hide:{label:"隐藏",icon:null,method:function(e){return this.owner.hide()}}}),t.register(r,s),s}),define("$model/UI2/system/components/justep/popMenu/popMenu.config",["require"],function(e){return{properties:{position:"string",anchor:"string",direction:"string",opacity:"number",dismissible:"boolean"},events:[],binds:{}}}),define("$model/UI2/system/components/justep/popMenu/popMenu",["require","$UI/system/components/justep/common/res","css!./css/popMenu","$UI/system/lib/base/component","../popOver/popOver","./popMenu.config"],function(e){e("$UI/system/components/justep/common/res"),e("css!./css/popMenu").load();var t=e("$UI/system/lib/base/component"),n=e("../popOver/popOver"),r=e.normalizeName("./popMenu"),i=e("./popMenu.config"),s=n.extend({baseCls:"x-popMenu",overlayCls:"x-popMenu-overlay",contentCls:"x-popMenu-content",autoHidable:!0,constructor:function(){this.callParent()},getConfig:function(){return i},buildTemplate:function(e){return null},init:function(e,t){this.callParent(e,t);var n=this;this.$content.click(function(){n.autoHidable&&n.hide()})},propertyChangedHandler:function(e,t,n){switch(e){default:}this.callParent(e,t,n)}});return t.register(r,s),s}),define("$model/UI2/system/components/justep/wing/child.config",["require"],function(e){return{properties:{width:"string"},events:[],binds:{}}}),define("$model/UI2/system/components/justep/wing/child",["require","$UI/system/lib/base/component","$UI/system/lib/base/string","$UI/system/lib/base/viewComponent","./child.config"],function(e){var t=e("$UI/system/lib/base/component"),n=e("$UI/system/lib/base/string"),r=e("$UI/system/lib/base/viewComponent"),i=e.normalizeName("./child"),s=e("./child.config"),o=r.extend({constructor:function(e){this.callParent(e)},init:function(e,n){this.owner=t.getComponent(this.$domNode.parent().get(0)),this.name=this._getName(),this.owner[this.name]=this,this.callParent(e,n)},getConfig:function(){return s},_getName:function(){var e=this.$domNode.attr("class");if(e.indexOf("x-wing-left")!=-1)return"left";if(e.indexOf("x-wing-right")!=-1)return"right";if(e.indexOf("x-wing-content")!=-1)return"content"},get:function(e){e="get"+n.camelize(e);if(this.owner[e])return this.owner[e](this.name)},set:function(e,t){this[e]=t;if(typeof e=="object"){var r=e;for(var i in r)r.hasOwnProperty(i)&&this.set(i,r[i])}else e="set"+n.camelize(e),this.owner[e]&&this.owner[e](this.name,t)},onAfterSelect:function(){this.owner.show(this.name)},dispose:function(){this.owner.remove(this.name),this.owner=null}});return t.register(i,o),o}),define("$model/UI2/system/components/justep/wing/wing.config",["require"],function(e){return{properties:{animate:"boolean",display:"string",dismissible:"boolean",swipeClose:"boolean"},events:[],binds:{}}}),define("$model/UI2/system/components/justep/wing/wing",["require","$UI/system/lib/jquery/transition","$UI/system/lib/base/component","$UI/system/lib/base/object","$UI/system/lib/justep","$UI/system/lib/base/string","$UI/system/lib/base/viewComponent","jquery","./wing.config","$UI/system/components/justep/windowContainer/windowContainer","$UI/system/lib/jquery/transition","css!./css/wing"],function(e){e("$UI/system/lib/jquery/transition");var t=e("$UI/system/lib/base/component"),n=e("$UI/system/lib/base/object"),r=e("$UI/system/lib/justep"),i=e("$UI/system/lib/base/string"),s=e("$UI/system/lib/base/viewComponent"),o=e("jquery"),u=e.normalizeName("./wing"),a=e("./wing.config"),f=e("$UI/system/components/justep/windowContainer/windowContainer");e("$UI/system/lib/jquery/transition"),e("css!./css/wing").load();var l="300",c=s.extend({constructor:function(e){this.baseCls="x-wing",this.animate=!0,this.display="overlay",this.onlyOne=this.display!="overlay",this.dismissible=!1,this.swipeClose=!0,this.leftOpened=!1,this.rightOpened=!1,this.leftWidth=l,this.rightWidth=l,this.callParent(e)},getConfig:function(){return a},buildTemplate:function(e){return e.content=e.content||{},e.left=e.left||{},e.left.size=e.left.size!=undefined?e.left.size:l,e.right=e.right||{},e.right.size=e.right.size!=undefined?e.right.size:l,i.format("<div xid='{0}' class='{1}' component='{2}'><div class='x-wing-left' width='{3}'></div><div class='x-wing-content'></div><div class='x-wing-right' width='{4}'></div></div>",e.xid,this.baseCls,u,e.left.size,e.right.size)},init:function(e,t){this.callParent(e,t),this.$el=o(this.domNode),o(this.domNode).hasClass("x-wing-xs")&&(l="200",this.leftWidth=l,this.rightWidth=l),this.$left=o(">.x-wing-left",this.domNode),this.$content=o(">.x-wing-content",this.domNode),this.$right=o(">.x-wing-right",this.domNode);var n=this;return this.getModel().componentPromise(this.$content[0]).done(function(e){n.inited()}).fail(function(e){alert(e)}),this.animate&&(this.supportTouchSwip(),this.supportTouchSwipHide()),this.$backdrop=this.display!=="compress"&&!r.Browser.IE?o(">.x-wing-content>.x-wing-backdrop",this.domNode):o(">.x-wing-content>.x-wing-backdrop-none"),this.$backdrop.on("click",function(){if(n.leftOpened||n.rightOpened)n.hideRight(),n.hideLeft()}),{dependence:!0}},supportTouchSwip:function(){var e=!1,t=!1,n=!1,r={},i,s,u,a,f,c=30,h=this,p,d=!1;this.$content.on("touchstart",function(s){if(e||h.rightOpened||h.leftOpened)return;s instanceof o.Event&&(s=s.originalEvent),n=!0,t=!1,e=!0,d=!1,i=undefined,r.x=s.type==="touchstart"?s.targetTouches[0].pageX:s.pageX,r.y=s.type==="touchstart"?s.targetTouches[0].pageY:s.pageY,u=(new Date).getTime(),/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)&&(h.$left.hide(),h.$right.hide(),h.$content.hide(),h.$left.show(),h.$content.show(),h.$right.show())}),this.$content.on("touchmove",function(s){s instanceof o.Event&&(s=s.originalEvent);if(s.hasStopedPropagation===!0)return;if(!e||h.rightOpened||h.leftOpened||i)return;var u=s.type==="touchmove"?s.targetTouches[0].pageX:s.pageX,l=s.type==="touchmove"?s.targetTouches[0].pageY:s.pageY;a=Math.abs(u-r.x),f=Math.abs(l-r.y);if(n&&a>f){n=!1,t=!0,u-r.x>0?p="right":p="left",i=!1,p==="right"?d=r.x-h.$content.offset().left<c:p==="left"&&(d=h.$content.width()-r.x<c);if(!d){t=!1,i=!0;return}s.preventDefault(),s.hasStopedPropagation=!0}else if(n){n=!1,t=!1,i=!0;return}if(!d||!!i)return;s.preventDefault(),s.hasStopedPropagation=!0;var v=0;p==="right"?v=a/h.leftWidth:p==="left"&&(v=a/h.rightWidth);switch(h.display){case"overlay":p=="right"&&h.$left.length>0?(h.$left.addClass("active"),a>h.leftWidth?h.$left.transform("translate3d(0,0,0)"):h.$left.transform("translate3d("+(h.leftWidth*-1+a)+"px,0,0)")):p=="left"&&h.$right.length>0&&(h.$right.addClass("active"),a>h.rightWidth?h.$right.transform("translate3d(0,0,0)"):h.$right.transform("translate3d("+(h.rightWidth-a)+"px,0,0)"));break;case"reveal":p=="right"&&h.$left.length>0?(h.$left.addClass("active"),a>h.leftWidth?h.$content.transform("translate3d("+h.leftWidth+"px,0,0)"):h.$content.transform("translate3d("+a+"px,0,0)")):p=="left"&&h.$right.length>0&&(h.$right.addClass("active"),a>h.rightWidth?h.$content.transform("translate3d("+h.rightWidth*-1+"px,0,0)"):h.$content.transform("translate3d("+a*-1+"px,0,0)"));break;case"push":p=="right"&&h.$left.length>0?a>h.leftWidth?(h.$content.transform("translate3d("+h.leftWidth+"px,0,0)"),h.$left.transform("translate3d(0,0,0)")):(h.$content.transform("translate3d("+a+"px,0,0)"),h.$left.transform("translate3d("+(h.leftWidth*-1+a)+"px,0,0)")):p=="left"&&h.$right.length>0&&(a>h.rightWidth?(h.$content.transform("translate3d("+h.rightWidth*-1+"px,0,0)"),h.$right.transform("translate3d(0,0,0)")):(h.$content.transform("translate3d("+a*-1+"px,0,0)"),h.$right.transform("translate3d("+(h.rightWidth-a)+"px,0,0)")))}if(p=="right"&&h.$left.length>0||p=="left"&&h.$right.length>0)h.$backdrop.show(),h.$backdrop.css("opacity",.2*v)}),this.$content.on("touchcancel touchend",function(n){if(!e||!t){d=!1,e=!1,t=!1;return}e=!1,t=!1;if(a===0){h.$left.removeClass("active"),h.$right.removeClass("active"),h.$content.transform("").css({opacity:"",boxShadow:""});return}var r=(new Date).getTime()-u;if((r<300&&a>30||r>=300&&a>l/2)&&d){switch(h.display){case"overlay":p=="right"&&h.$left.length>0?h.leftOpened=!0:p=="left"&&h.$right.length>0&&(h.rightOpened=!0);break;case"reveal":p=="right"&&h.$left.length>0?(h.$left.addClass("active"),h.$content.addClass("on-right"),h.leftOpened=!0):p=="left"&&h.$right.length>0&&(h.$right.addClass("active"),h.$content.addClass("on-left"),h.rightOpened=!0);break;case"push":p=="right"&&h.$left.length>0?(h.$left.addClass("active"),h.$content.addClass("on-right"),h.leftOpened=!0):p=="left"&&h.$right.length>0&&(h.$right.addClass("active"),h.$content.addClass("on-left"),h.rightOpened=!0)}h.$content.transform("").css({opacity:"",boxShadow:""}),h.$left.transform("").css({opacity:"",boxShadow:""}),h.$right.transform("").css({opacity:"",boxShadow:""})}else h.$backdrop.hide(),h.$left.removeClass("active"),h.$right.removeClass("active"),h.$content.transform("").css({opacity:"",boxShadow:""}),h.$left.transform("").css({opacity:"",boxShadow:""}),h.$right.transform("").css({opacity:"",boxShadow:""})})},supportTouchSwipHide:function(){var e=!1,t=!1,n=!1,r={},i,s,u,a,f,c=30,h=this,p;this.$el.on("touchstart",function(s){if(e||!h.rightOpened&&!h.leftOpened)return;s instanceof o.Event&&(s=s.originalEvent),n=!0,t=!1,e=!0,i=undefined,r.x=s.type==="touchstart"?s.targetTouches[0].pageX:s.pageX,r.y=s.type==="touchstart"?s.targetTouches[0].pageY:s.pageY,u=(new Date).getTime()}),this.$el.on("touchmove",function(s){s instanceof o.Event&&(s=s.originalEvent);if(s.hasStopedPropagation===!0)return;if(!e||i||!h.rightOpened&&!h.leftOpened)return;var u=s.type==="touchmove"?s.targetTouches[0].pageX:s.pageX,l=s.type==="touchmove"?s.targetTouches[0].pageY:s.pageY;a=Math.abs(u-r.x),f=Math.abs(l-r.y);if(n&&a>f)n=!1,t=!0,u-r.x>0?p="right":p="left",i=!1,s.preventDefault(),s.hasStopedPropagation=!0;else if(n){n=!1,t=!1,i=!0;return}if(!!i)return;s.preventDefault(),s.hasStopedPropagation=!0;var c=0;p==="right"?c=a/h.leftWidth:p==="left"&&(c=a/h.rightWidth);switch(h.display){case"overlay":p=="right"&&h.rightOpened?a>h.rightWidth?h.$right.transform("translate3d("+h.rightWidth+"px,0,0)"):h.$right.transform("translate3d("+a+"px,0,0)"):p=="left"&&h.leftOpened&&(a>h.leftWidth?h.$left.transform("translate3d("+h.leftWidth*-1+"px,0,0)"):h.$left.transform("translate3d("+a*-1+"px,0,0)"));break;case"reveal":p=="right"&&h.rightOpened?a>h.rightWidth?h.$content.transform("translate3d(0,0,0)"):h.$content.transform("translate3d("+(h.rightWidth*-1+a)+"px,0,0)"):p=="left"&&h.$right.length>0&&(a>h.leftWidth?h.$content.transform("translate3d(0,0,0)"):h.$content.transform("translate3d("+(h.rightWidth-a)+"px,0,0)"));break;case"push":p=="right"&&h.rightOpened?a>h.rightWidth?(h.$content.transform("translate3d(0,0,0)"),h.$right.transform("translate3d("+h.rightWidth+"px,0,0)")):(h.$content.transform("translate3d("+(h.rightWidth*-1+a)+"px,0,0)"),h.$right.transform("translate3d("+a+"px,0,0)")):p=="left"&&h.leftOpened&&(a>h.leftWidth?(h.$content.transform("translate3d(0,0,0)"),h.$left.transform("translate3d("+h.leftWidth*-1+"px,0,0)")):(h.$content.transform("translate3d("+(h.leftWidth-a)+"px,0,0)"),h.$left.transform("translate3d("+a*-1+"px,0,0)")))}(p=="right"&&h.rightOpened||p=="left"&&h.leftOpened)&&h.$backdrop.css("opacity",.2-.2*c)}),this.$el.on("touchcancel touchend",function(n){if(!e||!t){e=!1,t=!1;return}e=!1,t=!1;if(a===0)return;var r=(new Date).getTime()-u;r<300&&a>30||r>=300&&a>l/2?(p=="right"&&h.rightOpened?(h.$right.removeClass("active"),h.$content.removeClass("on-left"),h.rightOpened=!1):p=="left"&&h.leftOpened&&(h.$left.removeClass("active"),h.$content.removeClass("on-right"),h.leftOpened=!1),h.$backdrop.fadeOut(),h.$content.transform("").css({opacity:"",boxShadow:""}),h.$left.transform("").css({opacity:"",boxShadow:""}),h.$right.transform("").css({opacity:"",boxShadow:""})):(h.$backdrop.css("opacity",""),h.$content.transform("").css({opacity:"",boxShadow:""}),h.$left.transform("").css({opacity:"",boxShadow:""}),h.$right.transform("").css({opacity:"",boxShadow:""}))})},setSize:function(e,t){o(">.x-wing-"+e,this.$domNode).css("size",size(t))},getSize:function(e){return o(">.x-wing-"+e,this.$domNode).css("size")},showLeft:function(e){if(this.leftOpened)return;var t=o.support.transition&&!r.Browser.IE;if(this.onlyOne&&this.rightOpened)this.hideRight(this.showLeft);else switch(this.display){case"overlay":var n=this;this.$left.addClass("opening"),this.$backdrop.fadeIn();var i=function(){n.$left.addClass("active"),n.$left.removeClass("opening"),n.leftOpened=!0,e&&e.call(n)};i();break;case"reveal":var n=this;this.$content.addClass("to-right"),this.$left.addClass("active"),this.$backdrop.fadeIn(),this.$content.animationEnd(function(){n.$content.addClass("on-right"),n.$content.removeClass("to-right"),n.leftOpened=!0,e&&e.call(n)});break;case"push":var n=this;this.$left.addClass("opening"),this.$left.addClass("active"),this.$content.addClass("to-right"),this.$backdrop.fadeIn(),this.$left.animationEnd(function(){n.$content.addClass("on-right"),n.$content.removeClass("to-right"),n.$left.removeClass("opening"),n.leftOpened=!0,e&&e.call(n)});break;case"compress":var n=this;this.$left.addClass("opening"),this.$left.addClass("active"),this.$content.addClass("compress-to-right"),this.$backdrop.fadeIn(),this.$left.animationEnd(function(){n.$content.addClass("compress-on-right"),n.$content.removeClass("compress-to-right"),n.$left.removeClass("opening"),n.leftOpened=!0,e&&e.call(n)})}},hideLeft:function(e){if(!this.leftOpened){e&&e.call(this);return}var t=o.support.transition&&!r.Browser.IE;switch(this.display){case"overlay":var n=this;this.$left.addClass("closing"),this.$backdrop.fadeOut();var i=function(){n.$left.removeClass("closing"),n.$left.removeClass("active"),n._androidBugFix(),n.leftOpened=!1,e&&e.call(n)};t?this.$left.animationEnd(i):i();break;case"reveal":var n=this;this.$content.addClass("from-right-to-center"),this.$content.removeClass("on-right"),this.$backdrop.fadeOut(),this.$content.animationEnd(function(){n.$left.removeClass("active"),n.$content.removeClass("from-right-to-center"),n._androidBugFix(),n.leftOpened=!1,e&&e.call(n)});break;case"push":var n=this;this.$content.addClass("from-right-to-center"),this.$content.removeClass("on-right"),this.$left.addClass("closing"),this.$backdrop.fadeOut(),this.$content.animationEnd(function(){n.$left.removeClass("closing"),n.$left.removeClass("active"),n.$content.removeClass("from-right-to-center"),n._androidBugFix(),n.leftOpened=!1,e&&e.call(n)});break;case"compress":var n=this;this.$content.addClass("uncompress-from-left"),this.$content.removeClass("compress-on-right"),this.$left.addClass("closing"),this.$backdrop.fadeOut(),this.$content.animationEnd(function(){n.$left.removeClass("closing"),n.$left.removeClass("active"),n.$content.removeClass("uncompress-from-left"),n._androidBugFix(),n.leftOpened=!1,e&&e.call(n)})}},_androidBugFix:function(){/Android /.test(window.navigator.appVersion)&&(this.$el.get(0).style.overflow="auto",this.$el.offset(),this.$el.get(0).style.overflow="hidden")},toggleLeft:function(){this.leftOpened?this.hideLeft():this.showLeft()},showRight:function(e){if(this.rightOpened)return;var t=o.support.transition&&!r.Browser.IE;if(this.onlyOne&&this.leftOpened)this.hideLeft(this.showRight);else{var n=this;switch(this.display){case"overlay":var n=this;this.$right.addClass("opening"),this.$backdrop.fadeIn();var i=function(){n.$right.addClass("active"),n.$right.removeClass("opening"),n.rightOpened=!0,e&&e.call(n)};t?this.$right.animationEnd(i):i();break;case"reveal":var n=this;this.$content.addClass("to-left"),this.$right.addClass("active"),this.$backdrop.fadeIn(),this.$content.animationEnd(function(){n.$content.removeClass("to-left"),n.$content.addClass("on-left"),n.rightOpened=!0,e&&e.call(n)});break;case"push":var n=this;this.$right.addClass("opening"),this.$right.addClass("active"),this.$content.addClass("to-left"),this.$backdrop.fadeIn(),this.$right.animationEnd(function(){n.$content.removeClass("to-left"),n.$content.addClass("on-left"),n.$right.removeClass("opening"),n.rightOpened=!0,e&&e.call(n)})}}},hideRight:function(e){if(!this.rightOpened){e&&e.call(this);return}var t=o.support.transition&&!r.Browser.IE,n=this;this.rightOpened=!1;switch(this.display){case"overlay":var n=this;this.$right.addClass("closing"),this.$backdrop.fadeOut();var i=function(){n.$right.removeClass("closing"),n.$right.removeClass("active"),n._androidBugFix(),e&&e.call(n)};t?this.$right.animationEnd(i):i();break;case"reveal":var n=this;this.$content.addClass("from-left-to-center"),this.$content.removeClass("on-left"),this.$backdrop.fadeOut(),this.$content.animationEnd(function(){n.$right.removeClass("active"),n.$content.removeClass("from-left-to-center"),n._androidBugFix(),e&&e.call(n)});break;case"push":var n=this;this.$right.addClass("closing"),this.$content.addClass("from-left-to-center"),this.$content.removeClass("on-left"),this.$backdrop.fadeOut(),this.$content.animationEnd(function(){n.$content.removeClass("from-left-to-center"),n.$right.removeClass("closing"),n.$right.removeClass("active"),n._androidBugFix(),e&&e.call(n)})}},toggleRight:function(){o(">.x-wing-right",this.$domNode).toggleClass("hide")},get:function(e){return this[e]},remove:function(e){o(".x-wing-"+e,this.$el).remove()},show:function(e){switch(e){case"content":this.leftOpened&&this.hideLeft(),this.rightOpened&&this.hideRight();break;case"left":this.leftOpened||this.showLeft();break;case"right":this.rightOpened||this.showRight()}},hide:function(e){switch(e){case"left":this.leftOpened&&this.hideLeft();break;case"right":this.rightOpened&&this.hideRight()}},setDisplay:function(e){this.display=e,o(this.domNode).attr("display",e),this.onlyOne=this.display!="overlay",this.display=="reveal"},setDismissible:function(e){return;var t},propertyChangedHandler:function(e,t,n){switch(e){case"display":this.setDisplay(n);break;case"dismissible":this.setDismissible(n);break;default:this.callParent(e,t,n)}},loadLeftContent:function(e){this.leftCompose=new f({parentNode:this.$left.get(0),src:e})}});return r.Component.addOperations(c,{toggleLeft:{label:"",method:function(e){return this.owner.toggleLeft()}},toggleRight:{label:"",method:function(e){return this.owner.toggleRight()}}}),t.register(u,c),c}),define("$model/UI2/system/components/justep/barcode/barcodeImage",["require","$UI/system/lib/justep","$UI/system/lib/base/url","css!./css/barcodeImage"],function(e){var t=e("$UI/system/lib/justep"),n=e.normalizeName("$UI/system/components/justep/barcode/barcodeImage"),r=e("$UI/system/lib/base/url");e("css!./css/barcodeImage").load();var i=t.BindComponent.extend({constructor:function(e){this.callParent(e),this.value="",this.type="code93",this.barcodeConfig="{mw:0.6}",this.stretch=!0},buildTemplate:function(e){return e||(e={}),this.set(e),"string"==typeof e["bind-ref"]&&(e["bind-ref"]=e["bind-ref"].replace(/'/g,"&apos;")),e["class"]||(e["class"]="barcodeImage"),"<div class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+(e.type?" type='"+e.type+"' ":"")+(e.stretch?" stretch='"+e.stretch+"' ":"")+(e.barcodeConfig?" barcodeConfig='"+e.barcodeConfig+"' ":"")+(e["bind-ref"]?" __componentAttrs='ref:"+e["bind-ref"]+"'":"")+" component='"+n+"' "+" >"+"<img id='img"+e.xid+"' src='about:blank' style='vertical-align:middle;'/> "+"</div>"},onRefresh:function(){if(!this.value||this.value===""){this.clear();return}var t=this.$domNode.attr("type")?this.$domNode.attr("type"):"{}",n=this.$domNode.attr("barcodeConfig")?this.$domNode.attr("barcodeConfig"):"{}",i=new r(e.toUrl("$UI/system/components/justep/barcode/server/genBarcode.j"));i.setParam("type",t),i.setParam("code",this.value),i.setParam("config",n),this.setImgSrc(i.toString()),this.fireEvent("onRefresh",{source:this,url:i.toString()})},getContext:function(){return this.getModel().getContext()},setImgSrc:function(e){var t=this._getImgNode();this.stretch=this.$domNode.attr("stretch")=="false"?!1:this.stretch,this.stretch?(t.css({height:"100%",width:"100%"}),t.attr("src",e)):t.attr("src",e),t.show()},_getImgNode:function(){return this.$domNode.children("img")},clear:function(){this._getImgNode().attr("src","about:blank").hide()},propertyChangedHandler:function(e,t,n){this.callParent(e,t,n),this.needRender=!0},render:function(){this.callParent(),this.onRefresh()}});return t.Component.register(n,i),i});